{"version":3,"file":"CyTag.vue_vue_type_script_setup_true_lang-b96b12e5.cjs","sources":["../src/components/tag/CyTag.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, toHandlers as _toHandlers, mergeProps as _mergeProps } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 1,\n  class: \"cyw-tag__icon-prefix cyw-inline-flex cyw-mr-3\",\n  \"aria-hidden\": true\n}\nconst _hoisted_2 = { class: \"cyw-tag__label-text cyw-flex-grow-1 cyw-text-ellipsis cyw-text-f12 cyw-text-medium\" }\nconst _hoisted_3 = {\n  key: 2,\n  class: \"cyw-tag__label-value cyw-text-f12 cyw-text-medium\"\n}\n\nimport { computed, onBeforeMount, ref, useAttrs } from \"vue\";\nimport keyHandler from \"../../prototypes/keyHandler/index.js\";\nimport {\n  bindCustomAttributes,\n  generateTestId\n} from \"../../utilities/bind-attributes\";\n\nenum ICON {\n  REMOVE = \"cyicon-cross\",\n  ADD = \"cyicon-add\",\n  MINUS = \"cyicon-minus\",\n  CHECK = \"cyicon-check\"\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\n  name: \"CyTag\",\n  inheritAttrs: false\n},\n  __name: 'CyTag',\n  props: {\n  text: {\n    type: String,\n    default: \"\"\n  },\n  type: {\n    type: String,\n    default: () => \"basic\",\n    validator: (value: string) =>\n      [\"basic\", \"tlp\", \"status\", \"key-value\"].includes(value)\n  },\n  subtype: {\n    type: String,\n    default: () => \"filled\",\n    validator: (value: string) =>\n      [\"filled\", \"outlined\", \"ghost\", \"text-outlined\"].includes(value)\n  },\n  value: {\n    type: String,\n    default: () => \"\"\n  },\n  size: {\n    default: \"lg\", //['lg', 'sm']\n    type: String\n  },\n  rounded: {\n    type: Boolean,\n    default: () => true\n  },\n  avatar: {}, //TODO: Need to add type and value definations once avatar component is merged\n  prefixIcon: {\n    type: String,\n    default: () => \"\"\n  },\n  suffixIcon: {\n    type: String,\n    default: () => \"\"\n  },\n  isClickable: {\n    type: Boolean,\n    default: () => false\n  },\n  isRemovable: {\n    type: Boolean,\n    default: () => false\n  },\n  disabled: {\n    type: Boolean,\n    default: () => false\n  },\n  isSelectable: {\n    type: Boolean,\n    default: () => false\n  },\n  theme: {\n    type: String,\n    default: () => \"\"\n  }\n},\n  emits: [\"click\", \"icon-click\"],\n  setup(__props, { emit: __emit }) {\n\nconst selected = ref<boolean>(false);\nlet icon = ref<string>(\"\");\n\n\n\nconst emits = __emit;\nconst $attrs = useAttrs();\n\nconst props = __props;\n\nconst hasHoverState = computed(\n  (): boolean => props.isClickable || props.isSelectable\n);\n\nconst isTLPChip = computed((): boolean => props.type === \"tlp\");\nconst isStatusChip = computed((): boolean => props.type === \"status\");\nconst showStatusIndicator = computed(\n  (): boolean => props.subtype !== \"text-outlined\"\n);\nconst hasSuffixIcon = computed((): string => {\n  if (props.isRemovable) return ICON.REMOVE;\n  else if (props.suffixIcon) return props.suffixIcon;\n  return \"\";\n});\n\nonBeforeMount(() => {\n  initPrefixIcon();\n});\n\nconst getText = (): string => {\n  if (isTLPChip.value) return `TLP: ${props.value.toUpperCase()}`;\n  return props.text;\n};\n\nconst initPrefixIcon = () => {\n  if (props.prefixIcon) {\n    icon.value = props.prefixIcon;\n  } else if (props.isSelectable) {\n    icon.value = ICON.ADD;\n  }\n};\n\nconst getTLPClass = (): string => {\n  return isTLPChip.value\n    ? `cyw-tag--tlp-${props.value?.split(\"+\")?.[0].toLowerCase()}`\n    : \"\";\n};\n\nconst getStatusClass = (): string => {\n  return isStatusChip.value ? `cyw-tag--status-${props.value}` : \"\";\n};\n\nconst onClick = () => {\n  if (props.isSelectable) {\n    selected.value = !selected.value;\n    emits(\"click\", selected.value);\n  } else {\n    emits(\"click\");\n  }\n};\n\nconst toggleIconSelected = (hovered: boolean) => {\n  if (props.isSelectable) {\n    if (selected.value) {\n      icon.value = hovered ? ICON.MINUS : ICON.CHECK;\n    } else {\n      icon.value = ICON.ADD;\n    }\n  }\n};\n\nfunction onHover(value: boolean) {\n  toggleIconSelected(value);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n    class: [\n      ' cyw-inline-flex cyw-mx-1 cyw-flex-align-center',\n      !props.disabled ? 'cyw-tag' : '',\n      `cyw-tag__${props.type} cyw-tag--${props.subtype} cyw-tag--theme-${props.theme} cyw-tag--${__props.size}`,\n      {\n        'cyw-tag--rounded': props.rounded,\n        'cyw-tag--clickable':\n          (!props.disabled && props.isClickable) || props.isSelectable,\n        'cyw-tag--selectable': selected.value,\n        'cyw-cursor-pointer': hasHoverState.value && !props.disabled,\n        'cyw-p-0': __props.type === 'key-value'\n      },\n      getTLPClass(),\n      getStatusClass()\n    ],\n    onClick: onClick\n  }, {\n      ..._unref(generateTestId)(_unref($attrs), 'tag'),\n      ..._unref(bindCustomAttributes)(_unref($attrs))\n    }, {\n    onMouseenter: _cache[0] || (_cache[0] = ($event: any) => (onHover(true))),\n    onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (onHover(false)))\n  }), [\n    _renderSlot(_ctx.$slots, \"default\", {}, () => [\n      (isTLPChip.value || isStatusChip.value)\n        ? (_openBlock(), _createElementBlock(\"span\", {\n            key: 0,\n            class: _normalizeClass([\"cyw-d-inline-block\", {\n          'cyw-tag__indicator-tlp cyw-mr-3': isTLPChip.value,\n          'cyw-tag__indicator-status cyw-mr-3':\n            isStatusChip.value && showStatusIndicator.value,\n          'cyw-tag__text-outlined': !showStatusIndicator.value\n        }])\n          }, null, 2 /* CLASS */))\n        : _createCommentVNode(\"v-if\", true),\n      (_unref(icon))\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, [\n            _createElementVNode(\"i\", {\n              class: _normalizeClass(_unref(icon))\n            }, null, 2 /* CLASS */)\n          ]))\n        : _createCommentVNode(\"v-if\", true),\n      _createElementVNode(\"span\", _hoisted_2, _toDisplayString(getText()), 1 /* TEXT */),\n      (__props.type === 'key-value')\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(__props.value), 1 /* TEXT */))\n        : _createCommentVNode(\"v-if\", true),\n      _renderSlot(_ctx.$slots, \"suffix\", {}, () => [\n        (hasSuffixIcon.value)\n          ? (_openBlock(), _createElementBlock(\"span\", _mergeProps({\n              key: 0,\n              \"aria-hidden\": true,\n              class: [\n            'cyw-inline-flex cyw-ml-3 cyw-text-f10',\n            { 'cyw-tag__icon-suffix': !props.disabled }\n          ]\n            }, _toHandlers(_unref(keyHandler)(() => emits('icon-click')), true), { ..._unref(generateTestId)(_unref($attrs), '-tag-close') }), [\n              _createElementVNode(\"i\", {\n                class: _normalizeClass(hasSuffixIcon.value)\n              }, null, 2 /* CLASS */)\n            ], 16 /* FULL_PROPS */))\n          : _createCommentVNode(\"v-if\", true)\n      ])\n    ])\n  ], 16 /* FULL_PROPS */))\n}\n}\n\n})"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_sfc_main","_defineComponent","value","__props","__emit","selected","ref","icon","emits","$attrs","useAttrs","props","hasHoverState","computed","isTLPChip","isStatusChip","showStatusIndicator","hasSuffixIcon","onBeforeMount","initPrefixIcon","getText","getTLPClass","getStatusClass","onClick","toggleIconSelected","hovered","onHover","_ctx","_cache","_openBlock","_createElementBlock","_mergeProps","_unref","generateTestId","bindCustomAttributes","$event","_renderSlot","_normalizeClass","_createCommentVNode","_createElementVNode","_toDisplayString","_toHandlers","keyHandler"],"mappings":"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"}