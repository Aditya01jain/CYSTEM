"use strict";const e=require("vue"),x=require("./components/sanitize-html/index.cjs"),r=require("./components/toaster/variables.cjs"),_=require("./components/banner/variables.cjs"),o=require("./utilities/bind-attributes.cjs"),g=["aria-label"],p=e.defineComponent({name:"CyToaster",inheritAttrs:!1,__name:"Toaster",props:e.mergeDefaults({type:{},title:{},message:{},placement:{},status:{},toasterId:{},clickableText:{},duration:{},func:{type:Function},funcOnClose:{type:Function}},r.DEFAULT_TOASTER_PROPS),emits:["close"],setup(i,{emit:u}){const t=i;let a=e.ref(0);const m=u;e.onMounted(()=>{d()}),e.onBeforeUnmount(()=>{t.clickableText&&t.func&&document.querySelector(`.clickable-text-${t.toasterId}`)?.[0]?.removeEventListener("click",t.func)});const s=e.computed(()=>t.type==="linear"),y=e.computed(()=>`${a.value/t.duration*100}%`);function d(){t.duration&&l(),e.nextTick(()=>{t.clickableText&&t.func&&document.querySelector(`.clickable-text-${t.toasterId}`)?.addEventListener("click",t.func)})}const f=e.computed(()=>{if(t.clickableText){const c=t.message?.indexOf(t.clickableText);if(c!==-1)return`${t.message.substring(0,c)}<a class="cyw-toaster__clickable-text clickable-text-${t.toasterId}">${t.clickableText}</a>${t.message.substring(c+t.clickableText.length)}`}return t.message});function l(){a.value+=10,a.value<t.duration&&setTimeout(()=>{l()},10)}function w(){t.funcOnClose&&t.funcOnClose(),m("close",t.toasterId)}return(c,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",e.mergeProps({...c.$attrs,...e.unref(o.generateTestId)(c.$attrs,"toaster")},{role:"alert","aria-live":"assertive","aria-atomic":"true","aria-relevant":"additions",class:["cyw-toaster__group cyw-bg-N10 cyw-flex-align-center cyw-flex-justify-start cyw-round-md",`cyw-toaster--${t.status}`]}),[e.createElementVNode("section",{class:e.normalizeClass(["cyw-toaster__content cyw-w-100 cyw-flex",{"cyw-flex-align-stretch":s.value}])},[e.createElementVNode("div",{"aria-hidden":"true",class:e.normalizeClass(["cyw-toaster__status",{"cyw-flex-align-center cyw-flex-justify-center cyw-toaster__linear-icon":s.value}])},[e.createElementVNode("i",{class:e.normalizeClass([e.unref(r.ICON_MAP)[t.status],"cyw-text-f20"])},null,2)],2),e.createElementVNode("div",{class:e.normalizeClass([s.value?"cyw-flex-align-center cyw-inline-flex":"cyw-flex-column cyw-ml-4"])},[e.createElementVNode("header",{class:e.normalizeClass(["cyw-mr-3 cyw-text-f14 cyw-text-medium cyw-color-N900",{"cyw-ml-3":s.value}])},e.toDisplayString(t.title),3),e.createVNode(e.unref(x.CySanitizeHtml),{class:e.normalizeClass(["cyw-text-f14 cyw-color-N700",{"cyw-mr-6":s.value}]),text:f.value},null,8,["class","text"])],2),e.createElementVNode("button",e.mergeProps({class:["cyw-toaster__close cyw-cursor-pointer cyw-flex-justify-center",{"cyw-flex-align-start cyw-mt-3":!s.value,"cyw-flex-align-center":s.value}],"aria-label":e.unref(_.DATA_LABELS).close},{...e.unref(o.generateTestId)(c.$attrs,"toaster-close-button")},{onClick:w}),n[0]||(n[0]=[e.createElementVNode("i",{class:"cyicon-cross cyw-text-f10 cyw-color-N700","aria-hidden":"true"},null,-1)]),16,g)],2)],16),s.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(`cyw-w-100 cyw-flex cyw-toaster__progress cyw-bg-N200 cyw-round-sm cyw-toaster--${t.status}`),"aria-hidden":"true"},[e.createElementVNode("span",{style:e.normalizeStyle({width:y.value}),class:"cyw-h-100 cyw-round-sm cyw-toaster__progress-bar"},null,4)],2)):e.createCommentVNode("v-if",!0)],64))}});exports._sfc_main=p;
//# sourceMappingURL=Toaster.vue_vue_type_script_setup_true_lang-c1118f66.cjs.map
