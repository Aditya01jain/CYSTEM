"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r={data(){return{listId:null,activeIndex:-1,enterTrigger:null}},created(){this.listId=this.componentId+"-list"},methods:{listEvents(e,t=""){e.stopPropagation(),e.preventDefault();let i=t&&t.length===0?this.data:this.getFilteredData,s=i&&i.length===0;if([38,40,27,13].includes(e.keyCode))if(e.keyCode===38&&!s)this.activeIndex>=0&&this.focusPrev(i);else if(e.keyCode===40&&!s)this.activeIndex<0?this.focusFirstChild():this.activeIndex>=0&&this.activeIndex<=i.length-1&&this.focusNext(i);else if(e.keyCode===13){if(this.activeIndex>=0&&!this.isListEmpty){let l=i[this.activeIndex];this.setSelectedData(l)}}else e.keyCode===27&&this.close()},preventTrimEvents(e){return e.which===32&&e.target.selectionStart===0&&e.preventDefault(),!1},keyEvents(e){e?.stopPropagation(),!this.disabled&&[9,27,40,13].includes(e.keyCode)&&(e.keyCode===9?(this.showFilter?this.isFocused=!0:this.isFocused=!this.isFocused,this.parentEvent(e)):e.keyCode===27?(e?.preventDefault(),this.close()):e.keyCode===40?this.listfocus():e.keyCode===13&&(this.enterTrigger&&this[this.enterTrigger](e),this.$emit("enter",e)))},listfocus(){this.showFilter&&setTimeout(()=>{let e=`#${this.listId}`;this.$el.querySelector(e)&&this.$el.querySelector(e)?.focus(),this.activeIndex=-1,this.focusFirstChild()},100)},focusFirstChild(){let e=this.$el.querySelector(`#${this.listId}`);this.activeIndex=0,e?.firstChild&&typeof e.firstChild===HTMLElement&&(e.firstChild?.setAttribute("tabIndex","0"),e.firstChild?.focus())},focusNext(e){let t=this.$el.querySelector("#list-item-"+this.activeIndex);t.setAttribute("tabIndex","-1"),this.activeIndex++,this.activeIndex<=e.length-1?(t.nextSibling.setAttribute("tabIndex","0"),t.nextSibling.focus()):this.focusFirstChild()},focusPrev(e){let t=this.$el.querySelector("#list-item-"+this.activeIndex);t.setAttribute("tabIndex","-1"),this.activeIndex--,this.activeIndex>=0?(t.previousSibling.setAttribute("tabIndex","0"),t.previousSibling.focus()):this.focusFirstChild()}}};exports.default=r;
//# sourceMappingURL=keysMixin.cjs.map
