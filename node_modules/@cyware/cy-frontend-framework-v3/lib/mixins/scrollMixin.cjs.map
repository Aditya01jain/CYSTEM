{"version":3,"file":"scrollMixin.cjs","sources":["../../src/mixins/scrollMixin.js"],"sourcesContent":["import ariaUtils from \"../utilities/aria-utils\";\nimport { uuId } from \"../utilities/shared\";\n\nexport default {\n  data() {\n    return {\n      componentId: uuId(),\n      labelledBy: null\n    };\n  },\n  computed: {\n    dynamicAttrs() {\n      let attrs = { ...(this.$attrs || {}) };\n      if (attrs?.[\"aria-labelledby\"]?.length) return attrs;\n      let label = this.title || this.$attrs[\"aria-label\"];\n      if (!label?.length && this.labelledBy?.length) {\n        attrs[\"aria-labelledby\"] = this.labelledBy;\n      }\n      return attrs;\n    }\n  },\n  mounted() {\n    this.initTitle();\n  },\n  methods: {\n    initTitle() {\n      let nodeElement = null;\n      let element = this.$slots?.[\"modal-title\"]?.[0]?.elm;\n      const selector = this.$attrs[\"data-title-selector\"];\n      if (selector?.length) nodeElement = ariaUtils.findNode(selector);\n      if (element instanceof HTMLElement && !nodeElement) nodeElement = element;\n      if (nodeElement instanceof HTMLElement) {\n        const labelId = `title-${this.componentId}`;\n        nodeElement?.setAttribute(\"id\", labelId);\n        this.labelledBy = labelId;\n      }\n    },\n    addScrollListener() {\n      const scrollY = window.scrollY;\n      const body = document.body;\n      body.style.position = \"fixed\";\n      body.style.width = \"100%\";\n      body.style.top = `-${scrollY}px`;\n    },\n    removeScrollListener() {\n      const body = document.body;\n      const scrollY = body.style.top;\n      body.style.position = \"\";\n      body.style.top = \"\";\n      window.scrollTo(0, parseInt(scrollY || \"0\") * -1);\n    }\n  },\n  beforeDestroy() {\n    this.removeScrollListener();\n  }\n};\n"],"names":["scrollMixin","uuId","attrs","nodeElement","element","selector","ariaUtils","labelId","scrollY","body"],"mappings":"gMAGeA,EAAA,CACb,MAAO,CACL,MAAO,CACL,YAAaC,EAAAA,KAAM,EACnB,WAAY,IAClB,CACG,EACD,SAAU,CACR,cAAe,CACb,IAAIC,EAAQ,CAAE,GAAI,KAAK,QAAU,CAAA,CAAG,EACpC,OAAIA,IAAQ,iBAAiB,GAAG,QAE5B,EADQ,KAAK,OAAS,KAAK,OAAO,YAAY,IACtC,QAAU,KAAK,YAAY,SACrCA,EAAM,iBAAiB,EAAI,KAAK,YAE3BA,CACR,CACF,EACD,SAAU,CACR,KAAK,UAAS,CACf,EACD,QAAS,CACP,WAAY,CACV,IAAIC,EAAc,KACdC,EAAU,KAAK,SAAS,aAAa,IAAI,CAAC,GAAG,IACjD,MAAMC,EAAW,KAAK,OAAO,qBAAqB,EAGlD,GAFIA,GAAU,SAAQF,EAAcG,EAAAA,QAAU,SAASD,CAAQ,GAC3DD,aAAmB,aAAe,CAACD,IAAaA,EAAcC,GAC9DD,aAAuB,YAAa,CACtC,MAAMI,EAAU,SAAS,KAAK,WAAW,GACzCJ,GAAa,aAAa,KAAMI,CAAO,EACvC,KAAK,WAAaA,CACnB,CACF,EACD,mBAAoB,CAClB,MAAMC,EAAU,OAAO,QACjBC,EAAO,SAAS,KACtBA,EAAK,MAAM,SAAW,QACtBA,EAAK,MAAM,MAAQ,OACnBA,EAAK,MAAM,IAAM,IAAID,CAAO,IAC7B,EACD,sBAAuB,CACrB,MAAMC,EAAO,SAAS,KAChBD,EAAUC,EAAK,MAAM,IAC3BA,EAAK,MAAM,SAAW,GACtBA,EAAK,MAAM,IAAM,GACjB,OAAO,SAAS,EAAG,SAASD,GAAW,GAAG,EAAI,EAAE,CACjD,CACF,EACD,eAAgB,CACd,KAAK,qBAAoB,CAC1B,CACH"}