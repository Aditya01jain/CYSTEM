"use strict";const _=require("element-plus/es");require("element-plus/es/components/base/style/css");require("element-plus/es/components/infinite-scroll/style/css");const e=require("vue"),S=require("element-plus"),u=require("./utilities/prototypes.cjs"),k=require("./components/select-option/CySelectOption.cjs"),w=require("./components/flex-text/CyFlexText.cjs"),v=require("./CyAvatar.vue_vue_type_script_setup_true_lang-d951f479.cjs"),B=require("./CyShimmer.vue_vue_type_script_setup_true_lang-41e89d03.cjs"),O=require("./directives/keystroke/index.cjs"),h=require("./utilities/bind-attributes.cjs"),P=["aria-busy","infinite-scroll-disabled","infinite-scroll-distance","id"],C=["data-group-index","id"],q={class:"cyw-select-menu-group-label cyw-color-N600"},E={key:0},N={key:0,class:"cyw-select__menu-empty cyw-px-3 cyw-min-h-auto"},I=["aria-multiselectable"],D={class:"cyw-flex-start-center"},V=["role"],j=e.defineComponent({name:"CySelectGroupLayout",inheritAttrs:!1,directives:{"infinite-scroll":{...S.ElInfiniteScroll},"cy-keystroke":O.default},__name:"CySelectGroupLayout",props:{borderStyle:{default:null,type:String},bordered:{default:!0},config:{default:()=>({}),type:Object},componentId:{default:()=>"",type:String},groupIdentifier:{default:null,type:String},paginated:{default:!1,type:Boolean},groupOptionStyle:{default:()=>{},type:Object},optionStyle:{default:()=>{},type:Object},optionClass:{default:"",type:String},optionIdentifier:{default:"options",type:String},identifier:{default:null,type:String},valueIdentifier:{default:null,type:String},subHeadingKey:{default:null,type:String},multiple:{default:!1,type:Boolean},disableOption:{default:()=>{},type:[Object,Boolean,Function]},optionProps:{type:Object,default:()=>({flexAlign:"row",icon:"",iconStyle:{default:()=>{},type:Object},iconSize:"1.6"})},data:{default:null,type:[Array,Object],required:!0},value:{default:null,type:[String,Object,Boolean,Number,Array],required:!0},scrollerDistance:{default:1,type:Number},busy:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},onlyOption:{default:!1,type:Boolean}},emits:["loadMore","setShowFilter","setSelectedData"],setup(r,{emit:p}){const s=p,d=e.useAttrs(),t=r,y=(i,a)=>{t.multiple||s("setShowFilter"),t.onlyOption?s("setSelectedData",i):s("setSelectedData",{option:i,group:a})},f=()=>{!t.busy&&t.paginated&&s("loadMore")},m=i=>typeof t.disableOption=="function"?t.disableOption(i):t.disableOption&&t.disableOption.key?t.disableOption.hasOwnProperty("value")&&i.hasOwnProperty(t.disableOption.key)?i[t.disableOption.key]===t.disableOption.value:!1:typeof t.disableOption=="boolean"&&t.disableOption?t.disableOption:!1;return(i,a)=>{const b=_.ElInfiniteScroll;return e.withDirectives((e.openBlock(),e.createElementBlock("ul",e.mergeProps({class:"cyw-select-menu__layout cyw-p-0 cyw-m-0 cyw-overlay-scroll cyw-overlay-scroll-y cyw-overlay-scroll--show cyw-pb-2",role:"listbox","aria-busy":t.busy,tabindex:0},e.unref(d)||{},{"infinite-scroll-disabled":t.busy||!t.paginated,"infinite-scroll-distance":t.scrollerDistance,id:`${t.componentId}-list`,"cy-data-list":!0}),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,(n,o)=>(e.openBlock(),e.createElementBlock("li",{role:"option",key:o,"data-group-index":o,"aria-haspopup":"listbox",class:e.normalizeClass(["cyw-select-menu-group",{bordered:t.bordered}]),tabindex:"-1",id:"list-item-"+o,style:e.normalizeStyle({"border-bottom":t.bordered?t.borderStyle:"none",...t.groupOptionStyle})},[e.createElementVNode("header",q,[e.renderSlot(i.$slots,"group",e.mergeProps({ref_for:!0},{group:n,index:o})),r.groupIdentifier?(e.openBlock(),e.createElementBlock("span",E,e.toDisplayString(e.unref(u.getProp)(n,t.groupIdentifier)),1)):e.createCommentVNode("v-if",!0)]),e.unref(u.getProp)(n,t.optionIdentifier,[])?.length===0&&!r.loading&&!r.busy?(e.openBlock(),e.createElementBlock("section",N,a[0]||(a[0]=[e.createElementVNode("div",{class:"cyw-w-100 cyw-h-100"},"No data found!",-1)]))):(e.openBlock(),e.createElementBlock("ul",{key:1,class:"cyw-m-0 cyw-p-0",role:"listbox","aria-multiselectable":t.multiple,"cy-data-list":!0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(u.getProp)(n,t.optionIdentifier),(l,c)=>(e.openBlock(),e.createBlock(k.default,e.mergeProps({role:"option",class:"cyw-select-option cyw-select-menu-group-option",ref_for:!0},{...e.unref(h.generateTestId)(e.unref(d),"option-"+o+"-"+c)},{key:c,id:"group-list-item-"+o+"-"+c,option:l,multiple:t.multiple,identifier:t.identifier,valueIdentifier:t.valueIdentifier,optionStyle:t.optionStyle,optionClass:t.optionClass,value:t.value,optionProps:t.optionProps,disabled:m(l),onClick:g=>y(g,n)}),{option:e.withCtx(()=>[e.renderSlot(i.$slots,"option",e.mergeProps({ref_for:!0},{option:l,groupIndex:o,group:n,index:c}),()=>[e.createElementVNode("div",D,[e.unref(u.getProp)(t.optionProps,"icon").length?(e.openBlock(),e.createBlock(v._sfc_main,{key:0,"aria-hidden":!0,class:"cyw-mr-3",size:t.optionProps.iconSize,icon:t.optionProps.icon,avatarStyle:t.optionProps.iconStyle},null,8,["size","icon","avatarStyle"])):e.createCommentVNode("v-if",!0),e.createVNode(w.default,{id:"option-content",heading:t.valueIdentifier?l[t.valueIdentifier]:l,subHeading:t.subHeadingKey?l[t.subHeadingKey]:t.subHeadingKey,direction:t.optionProps.flexAlign},null,8,["heading","subHeading","direction"])])])]),_:2},1040,["id","option","multiple","identifier","valueIdentifier","optionStyle","optionClass","value","optionProps","disabled","onClick"]))),128)),t.loading||t.busy?(e.openBlock(),e.createElementBlock("li",{key:0,role:t.config.optionRole,class:e.normalizeClass(["cyw-w-100 cyw-px-4",{"cyw-mt-3":t.loading}])},[e.renderSlot(i.$slots,"loader",{},()=>[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(3,l=>e.createVNode(B._sfc_main,{view:"single",type:"single",dimension:"big",key:"shimmer-"+l,class:"cyw-py-3"})),64))])],10,V)):e.createCommentVNode("v-if",!0)],8,I))],14,C))),128))],16,P)),[[b,f]])}}});exports._sfc_main=j;
//# sourceMappingURL=CySelectGroupLayout.vue_vue_type_script_setup_true_lang-abd520ef.cjs.map
