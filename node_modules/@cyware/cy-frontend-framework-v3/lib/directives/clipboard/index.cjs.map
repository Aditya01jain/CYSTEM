{"version":3,"file":"index.cjs","sources":["../../../src/directives/clipboard/index.js"],"sourcesContent":["import Clipboard from \"./model\";\n\nlet modelInstance = new Map();\n\nfunction resetInstance(id) {\n  const currInstance = modelInstance.get(id);\n\n  if (currInstance) {\n    currInstance?.remove();\n    modelInstance.delete(id);\n  }\n}\nexport default {\n  mounted: (el, binding, vNode = null) => {\n    const { uid: id } = vNode.ctx;\n    if (!modelInstance.has(id)) {\n      modelInstance.set(id, new Clipboard(el));\n    }\n    const currInstance = modelInstance.get(id);\n    if (binding.arg == \"copy\") {\n      currInstance.init(binding);\n    } else {\n      currInstance.setHandler(binding.arg, binding.value);\n    }\n  },\n  updated: (_, binding, vNode) => {\n    const { uid: id } = vNode.ctx;\n\n    if (!modelInstance.has(id) || binding.arg !== \"copy\") return;\n    const currInstance = modelInstance.get(id);\n    currInstance?.init(binding || {});\n  },\n  unmounted: (el, binding, vNode) => {\n    const { uid: id } = vNode.ctx;\n    if (!modelInstance.has(id)) return;\n    if (binding.arg === \"copy\") {\n      resetInstance(id);\n    } else {\n      modelInstance.get(id).clearHandler(binding.arg);\n    }\n  }\n};\n"],"names":["modelInstance","resetInstance","id","currInstance","Clipboard","el","binding","vNode","_"],"mappings":"2IAEA,IAAIA,EAAgB,IAAI,IAExB,SAASC,EAAcC,EAAI,CACzB,MAAMC,EAAeH,EAAc,IAAIE,CAAE,EAErCC,IACFA,GAAc,OAAM,EACpBH,EAAc,OAAOE,CAAE,EAE3B,CACA,MAAeE,EAAA,CACb,QAAS,CAACC,EAAIC,EAASC,EAAQ,OAAS,CACtC,KAAM,CAAE,IAAKL,GAAOK,EAAM,IACrBP,EAAc,IAAIE,CAAE,GACvBF,EAAc,IAAIE,EAAI,IAAIE,EAAAA,QAAUC,CAAE,CAAC,EAEzC,MAAMF,EAAeH,EAAc,IAAIE,CAAE,EACrCI,EAAQ,KAAO,OACjBH,EAAa,KAAKG,CAAO,EAEzBH,EAAa,WAAWG,EAAQ,IAAKA,EAAQ,KAAK,CAErD,EACD,QAAS,CAACE,EAAGF,EAASC,IAAU,CAC9B,KAAM,CAAE,IAAKL,GAAOK,EAAM,IAE1B,GAAI,CAACP,EAAc,IAAIE,CAAE,GAAKI,EAAQ,MAAQ,OAAQ,OACjCN,EAAc,IAAIE,CAAE,GAC3B,KAAKI,GAAW,CAAA,CAAE,CACjC,EACD,UAAW,CAACD,EAAIC,EAASC,IAAU,CACjC,KAAM,CAAE,IAAKL,GAAOK,EAAM,IACrBP,EAAc,IAAIE,CAAE,IACrBI,EAAQ,MAAQ,OAClBL,EAAcC,CAAE,EAEhBF,EAAc,IAAIE,CAAE,EAAE,aAAaI,EAAQ,GAAG,EAEjD,CACH"}