{"version":3,"file":"model.cjs","sources":["../../../src/directives/clipboard/model.js"],"sourcesContent":["class Clipboard {\n  constructor(el) {\n    this.el = el;\n    this.events = {};\n    this.value = null;\n    this.binding = null;\n    this.initListeners();\n  }\n\n  initListeners() {\n    this.handleClick = this.handleClick.bind(this);\n    this.el.addEventListener(\"click\", this.handleClick);\n  }\n  init(binding) {\n    this.binding = binding;\n    this.value = binding.value;\n  }\n  remove() {\n    this.el.removeEventListener(\"click\", this.handleClick);\n    this.el = null;\n    this.value = null;\n    this.events = null;\n  }\n  handleClick() {\n    this.copyTextToClipboard(this.value);\n  }\n  async copyTextToClipboard(txt) {\n    const copyButton = document.activeElement;\n    try {\n      await navigator.clipboard.writeText(txt);\n      this.events?.success?.({ text: txt });\n    } catch (err) {\n      this.events?.error?.(err);\n    }\n    copyButton.focus();\n  }\n  setHandler(name, handler) {\n    this.events[name] = handler;\n  }\n  clearHandler(name) {\n    delete this.events[name];\n  }\n}\n\nexport default Clipboard;\n"],"names":["Clipboard","el","binding","txt","copyButton","err","name","handler"],"mappings":"4GAAA,MAAMA,CAAU,CACd,YAAYC,EAAI,CACd,KAAK,GAAKA,EACV,KAAK,OAAS,GACd,KAAK,MAAQ,KACb,KAAK,QAAU,KACf,KAAK,cAAa,CACnB,CAED,eAAgB,CACd,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,GAAG,iBAAiB,QAAS,KAAK,WAAW,CACnD,CACD,KAAKC,EAAS,CACZ,KAAK,QAAUA,EACf,KAAK,MAAQA,EAAQ,KACtB,CACD,QAAS,CACP,KAAK,GAAG,oBAAoB,QAAS,KAAK,WAAW,EACrD,KAAK,GAAK,KACV,KAAK,MAAQ,KACb,KAAK,OAAS,IACf,CACD,aAAc,CACZ,KAAK,oBAAoB,KAAK,KAAK,CACpC,CACD,MAAM,oBAAoBC,EAAK,CAC7B,MAAMC,EAAa,SAAS,cAC5B,GAAI,CACF,MAAM,UAAU,UAAU,UAAUD,CAAG,EACvC,KAAK,QAAQ,UAAU,CAAE,KAAMA,CAAK,CAAA,CACrC,OAAQE,EAAK,CACZ,KAAK,QAAQ,QAAQA,CAAG,CACzB,CACDD,EAAW,MAAK,CACjB,CACD,WAAWE,EAAMC,EAAS,CACxB,KAAK,OAAOD,CAAI,EAAIC,CACrB,CACD,aAAaD,EAAM,CACjB,OAAO,KAAK,OAAOA,CAAI,CACxB,CACH"}