{"version":3,"file":"CyRadio.vue_vue_type_script_setup_true_lang-dbd5848f.cjs","sources":["../src/components/radio/CyRadio.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withKeys as _withKeys, mergeProps as _mergeProps } from \"vue\"\n\nconst _hoisted_1 = [\"aria-checked\", \"aria-disabled\", \"tabindex\"]\nconst _hoisted_2 = [\"id\"]\n\nimport { computed, useSlots, watch, ref, onMounted, useAttrs, nextTick } from \"vue\";\nimport { isHTMLElement, isNull, uuId } from \"../../utilities/shared\";\nimport { RadioProps } from \"./types.ts\";\nimport { generateTestId } from \"../../utilities/bind-attributes\";\nimport { useEmitter } from '../../composables/useEmitter';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{ name: \"CyRadio\", inheritAttrs: false },\n  __name: 'CyRadio',\n  props: {\n    label: { default: \"\" },\n    modelValue: { default: null },\n    name: {},\n    icon: { default: \"\" },\n    option: {},\n    tabindex: { default: 0 },\n    disabled: { type: [Boolean, Function], default: false }\n  },\n  emits: [\"update:modelValue\", \"keydown\"],\n  setup(__props: any, { expose: __expose, emit: __emit }) {\n\n\n\nconst { isParent, derivedProps, dispatch } = useEmitter('CyRadioGroup');\n\nconst props = __props;\n\nconst $slots = useSlots();\nconst $attrs = useAttrs();\n\nconst componentId = uuId();\nconst model = ref(false);\nconst emits = __emit;\n\nconst isDisabled = computed(() => {\n  if (typeof props.disabled === \"function\") props.disabled();\n  return derivedProps(\"disabled\") || props.disabled;\n});\n\nconst getLabel = computed(() => {\n  let label = props.option?.label || props.label;\n  if (isNull(label)) return \"\";\n  if (typeof label !== \"string\") label = label.toString();\n  return label;\n});\n\nconst dynamicAttributes = computed(() => {\n  let attrs: Record<string, any> = { ...($attrs || {}) };\n  if (!getLabel.value.length && $slots?.default?.length)\n    attrs[\"aria-labelledby\"] = componentId;\n  if (props.name?.length) attrs.name = props.name;\n  return attrs;\n});\n\nconst isOptionSelected = computed(() => {\n  if (isNull(model.value)) return false;\n  if (derivedProps(\"isValueKey\"))\n    return getValue(props.option) === model.value;\n  return getValue(props.option) === getValue(model.value);\n});\n\nconst getModelValue = computed(() => {\n  return isParent.value ? derivedProps('modelValue') : props.modelValue;\n})\n\nonMounted(() => {\n  init();\n});\n\nfunction getValue(data: any, key = \"identifier\") {\n  const derivedPropKey = derivedProps(key);\n  return data?.hasOwnProperty(derivedPropKey) ? data[derivedPropKey] : data;\n}\nfunction init() {\n  const defaultSlot = $slots.default?.[0]?.elm;\n  if (isHTMLElement(defaultSlot)) defaultSlot.setAttribute(\"id\", componentId);\n}\nfunction toggle() {\n  if (isDisabled.value) return;\n  if (derivedProps(\"isValueKey\"))\n    model.value = getValue(props.option, \"identifier\");\n  else model.value = props.option;\n  nextTick(() => {\n    emits(\"update:modelValue\", model.value);\n    isParent.value &&\n    dispatch(\"CyRadioGroup\", \"update:modelValue\", model.value);\n  })\n}\n\nwatch(\n  () => getModelValue.value,\n  () => {\n    model.value = getModelValue.value;\n  },\n  { immediate: true }\n);\n\n__expose({ toggle, value: isOptionSelected, label: getLabel });\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n    class: [\"cyw-flex-align-center cyw-radio cyw-w-fit\", [\n      {\n        ' cyw-radio--disabled': isDisabled.value,\n        ' cyw-radio--checked': isOptionSelected.value,\n        ' cyw-radio--check-disabled': isOptionSelected.value && isDisabled.value\n      }\n    ]],\n    role: \"radio\",\n    \"aria-checked\": isOptionSelected.value,\n    \"aria-disabled\": Boolean(isDisabled.value)\n  }, {...dynamicAttributes.value, ..._unref(generateTestId)(_unref($attrs), 'radio') }, {\n    tabindex: props.tabindex,\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (toggle())),\n    onKeydown: [\n      _cache[1] || (_cache[1] = _withKeys(($event: any) => (toggle()), [\"enter\"])),\n      _cache[2] || (_cache[2] = ($event: any) => (emits('keydown', $event)))\n    ]\n  }), [\n    _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"cyw-position-relative cyw-mr-3 cyw-radio__selector-container\" }, [\n      _createElementVNode(\"div\", { class: \"cyw-flex-center cyw-radio__selector\" })\n    ], -1 /* HOISTED */)),\n    _renderSlot(_ctx.$slots, \"default\", {\n      option: props.option,\n      id: _unref(componentId)\n    }, () => [\n      _createElementVNode(\"label\", {\n        class: \"cyw-radio__label cyw-flex-align-center cyw-color-N800\",\n        id: _unref(componentId)\n      }, [\n        _renderSlot(_ctx.$slots, \"icon\", {\n          option: props.option\n        }, () => [\n          (props.icon || props.option?.icon)\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 0,\n                \"aria-hidden\": true,\n                class: _normalizeClass([\"cyw-radio__icon cyw-mr-2\", props.icon || props.option?.icon || ''])\n              }, null, 2 /* CLASS */))\n            : _createCommentVNode(\"v-if\", true)\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(getLabel.value), 1 /* TEXT */)\n      ], 8 /* PROPS */, _hoisted_2)\n    ])\n  ], 16 /* FULL_PROPS */, _hoisted_1))\n}\n}\n\n})"],"names":["_hoisted_1","_hoisted_2","_sfc_main","_defineComponent","__props","__expose","__emit","isParent","derivedProps","dispatch","useEmitter","props","$slots","useSlots","$attrs","useAttrs","componentId","uuId","model","ref","emits","isDisabled","computed","getLabel","label","isNull","dynamicAttributes","attrs","isOptionSelected","getValue","getModelValue","onMounted","init","data","key","derivedPropKey","defaultSlot","isHTMLElement","toggle","nextTick","watch","_ctx","_cache","_openBlock","_createElementBlock","_mergeProps","_unref","generateTestId","$event","_withKeys","_createElementVNode","_renderSlot","_normalizeClass","_createCommentVNode","_createTextVNode","_toDisplayString"],"mappings":"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"}