{"version":3,"file":"CyAlert.vue_vue_type_script_setup_true_lang-d8d19f41.cjs","sources":["../src/components/alert/CyAlert.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, createTextVNode as _createTextVNode, mergeProps as _mergeProps, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"cyw-pt-2 cyw-flex\" }\nconst _hoisted_2 = { class: \"cyw-pr-4 cyw-pt-2\" }\nconst _hoisted_3 = { class: \"cyw-alert__icon cyw-position-relative\" }\nconst _hoisted_4 = { class: \"cyw-flex-grow-1 cyw-alert__message\" }\nconst _hoisted_5 = { class: \"cyw-color-N900 cyw-text-medium cyw-text-f20\" }\nconst _hoisted_6 = [\"innerHTML\"]\nconst _hoisted_7 = [\"innerHTML\"]\n\nimport { onMounted, reactive, computed ,useSlots } from \"vue\";\nimport CyModal from \"../modal/CyModal.vue\";\nimport CyButton from \"../button/CyButton.vue\";\nimport { DEFAULT_CONFIG, DEFAULT_MESSAGE, DEFAULT_ICONS } from \"./variables\";\nimport { Config, Message } from \"./types\";\nimport { generateTestId } from \"../../utilities/bind-attributes\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\n  name: \"CyAlert\",\n  inheritAttrs: false\n},\n  __name: 'CyAlert',\n  props: {\n  config: {\n    type: Object,\n    default: () => ({})\n  },\n  message: {\n    type: Object,\n    default: () => ({})\n  }\n},\n  emits: [\"confirm\", \"cancel\", \"discard\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\n\n\nconst $slots = useSlots();\n\nconst props = __props;\n\nonMounted(() => {\n  init();\n});\n\nconst emit = __emit;\n\nconst state = reactive({\n  config: {} as Config,\n  message: {} as Message,\n  showDialog: false,\n  showMore: false,\n  popupData: {}\n});\n\nconst iconClass = computed<string>(() => {\n  return state.config.icon\n    ? state.config.icon\n    : DEFAULT_ICONS[state.config.type as string];\n});\n\nconst isMoreTextEnabled = computed<boolean>(() => {\n  const footerSlot = $slots['footerMoreInfo'];\n  return state.message.moreDetails?.text?.length !== 0 || (footerSlot && footerSlot().length > 0);\n});\n\nfunction isDisabled(key: string) {\n  const disable = (state.config as Record<string, any>)[key];\n  if (typeof disable === \"function\") {\n    return disable();\n  }\n  return disable;\n}\n\nfunction init() {\n  (state.config = { ...DEFAULT_CONFIG, ...props.config }),\n    (state.message = { ...DEFAULT_MESSAGE, ...props.message });\n}\n\nfunction success() {\n  emit(\"confirm\", state.popupData);\n  state.showDialog = false;\n}\n\nfunction close() {\n  emit(\"cancel\", state.popupData);\n  state.showDialog = false;\n}\n\nfunction discard() {\n  emit(\"discard\", state.popupData);\n  state.showDialog = false;\n}\n\nfunction open(message: Message, config: Config, data: Record<string, any>) {\n  if (message) {\n    state.message = { ...state.message, ...message };\n  }\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n  state.showDialog = true;\n  state.popupData = data;\n}\n\n__expose({ open, close });\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(CyModal, _mergeProps({ ..._ctx.$attrs, ..._unref(generateTestId)(_ctx.$attrs, 'alert') }, {\n    class: \"cyw-alert\",\n    \"no-header\": true,\n    value: state.showDialog,\n    backdropClose: false,\n    width: state.config.width,\n    centered: false,\n    footer: true,\n    top: \"25%\",\n    modalAppendToBody: true,\n    onClose: close\n  }), {\n    \"modal-content\": _withCtx(() => [\n      _createElementVNode(\"header\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"h2\", _hoisted_3, [\n            _createElementVNode(\"i\", {\n              \"aria-hidden\": true,\n              class: _normalizeClass(`cyw-alert__icon--${state.config.type} ${iconClass.value}`)\n            }, null, 2 /* CLASS */)\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, _toDisplayString(state.message.title), 1 /* TEXT */),\n          (state.message.subTitle)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"cyw-color-N700 cyw-text-f14 cyw-pt-2\",\n                innerHTML: state.message.subTitle\n              }, null, 8 /* PROPS */, _hoisted_6))\n            : _createCommentVNode(\"v-if\", true),\n          _renderSlot(_ctx.$slots, \"extraInfo\", {\n            data: state.popupData || {}\n          })\n        ])\n      ])\n    ]),\n    \"modal-footer\": _withCtx(() => [\n      (state.showMore)\n        ? _renderSlot(_ctx.$slots, \"footerMoreInfo\", { key: 0 }, () => [\n            _createElementVNode(\"div\", {\n              class: \"cyw-border-1 cyw-p-4 cyw-text-f12 cyw-mb-4 cyw-w-100 cyw-h-100 cyw-bg-N10\",\n              innerHTML: state.message.moreDetails?.text\n            }, null, 8 /* PROPS */, _hoisted_7)\n          ])\n        : _createCommentVNode(\"v-if\", true),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\n          isMoreTextEnabled.value\n            ? 'cyw-flex-justify-between'\n            : 'cyw-flex-justify-end'\n        ])\n      }, [\n        (isMoreTextEnabled.value)\n          ? (_openBlock(), _createBlock(CyButton, _mergeProps({\n              key: 0,\n              size: \"lg\",\n              type: \"tertiary\"\n            }, { ..._unref(generateTestId)(_ctx.$attrs, 'alert-showmore') }, {\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (state.showMore = !state.showMore))\n            }), {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(state.showMore ? \"Less Details\" : \"More Details\") + \" \", 1 /* TEXT */),\n                _createElementVNode(\"i\", {\n                  \"aria-hidden\": true,\n                  class: _normalizeClass([\"cyw-text-f10 cyw-ml-2\", [\n              { 'cyicon-chevron-up': state.showMore },\n              { 'cyicon-chevron-down': !state.showMore }\n            ]])\n                }, null, 2 /* CLASS */)\n              ]),\n              _: 1 /* STABLE */\n            }, 16 /* FULL_PROPS */))\n          : _createCommentVNode(\"v-if\", true),\n        _createElementVNode(\"div\", null, [\n          (isDisabled('showCancel'))\n            ? (_openBlock(), _createBlock(CyButton, _mergeProps({ key: 0 }, { ..._unref(generateTestId)(_ctx.$attrs, 'alert-cancel') }, {\n                type: \"tertiary\",\n                subtype: \"subtle\",\n                size: \"lg\",\n                onClick: close\n              }), {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(state.message.cancelText), 1 /* TEXT */)\n                ]),\n                _: 1 /* STABLE */\n              }, 16 /* FULL_PROPS */))\n            : _createCommentVNode(\"v-if\", true),\n          (isDisabled('showDiscard'))\n            ? (_openBlock(), _createBlock(CyButton, _mergeProps({ key: 1 }, { ..._unref(generateTestId)(_ctx.$attrs, 'alert-discard') }, {\n                disabled: isDisabled('disableDiscard'),\n                class: \"cyw-ml-2 cyw-px-4\",\n                type: \"secondary\",\n                subtype: \"subtle\",\n                size: \"lg\",\n                onClick: discard\n              }), {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(state.message.discardText), 1 /* TEXT */)\n                ]),\n                _: 1 /* STABLE */\n              }, 16 /* FULL_PROPS */, [\"disabled\"]))\n            : _createCommentVNode(\"v-if\", true),\n          _createVNode(CyButton, _mergeProps({ ..._unref(generateTestId)(_ctx.$attrs, 'alert-confirm') }, {\n            class: \"cyw-ml-2 cyw-px-4\",\n            disabled: isDisabled('disableSuccess'),\n            size: \"lg\",\n            type: \"primary\",\n            onClick: success\n          }), {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(state.message.confirmText), 1 /* TEXT */)\n            ]),\n            _: 1 /* STABLE */\n          }, 16 /* FULL_PROPS */, [\"disabled\"])\n        ])\n      ], 2 /* CLASS */)\n    ]),\n    _: 3 /* FORWARDED */\n  }, 16 /* FULL_PROPS */, [\"value\", \"width\"]))\n}\n}\n\n})"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_sfc_main","_defineComponent","__props","__expose","__emit","$slots","useSlots","props","onMounted","init","emit","state","reactive","iconClass","computed","DEFAULT_ICONS","isMoreTextEnabled","footerSlot","isDisabled","key","disable","DEFAULT_CONFIG","DEFAULT_MESSAGE","success","close","discard","open","message","config","data","_ctx","_cache","_openBlock","_createBlock","CyModal","_mergeProps","_unref","generateTestId","_withCtx","_createElementVNode","_normalizeClass","_toDisplayString","_createElementBlock","_createCommentVNode","_renderSlot","CyButton","$event","_createTextVNode","_createVNode"],"mappings":"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"}