"use strict";const t=require("vue"),B=require("element-plus");require("element-plus/theme-chalk/el-slider.css");const d=require("./components/slider/constants.cjs"),S=require("radash"),_=require("./utilities/shared.cjs"),v=require("./utilities/bind-attributes.cjs"),V=t.defineComponent({__name:"CySlider",props:{modelValue:{type:Number,default:0},config:{type:Object,default:()=>{}}},emits:["update:modelValue","change","focus","blur"],setup(g,{emit:y}){const o=y,a=t.ref(),c=t.ref(),f=t.useAttrs(),s=g,l=t.reactive({dataLabels:{},isFocused:!1,allyTimer:null,isWindows:!1,changeDebounce:()=>{}});t.onMounted(()=>{l.dataLabels={...d.DATA_LABELS,...s.config?.labels||{}},l.changeDebounce=S.debounce({delay:s.config?.debounceTimer||d.DEBOUNCE_INTERVAL},$),m()}),t.onBeforeUnmount(()=>{m("remove")});function A(e){["ArrowLeft","ArrowRight"].includes(e.key||e.code)&&(e.stopPropagation(),e.preventDefault())}function L(e){l.isFocused=!0,o("focus",e)}function T(e){l.isFocused=!1,o("blur",e)}function b(e="add"){return`${e==="add"?"set":e}Attribute`}function m(e="add"){const n=b(e),r=a.value?.$el,i=r.getAttribute("aria-label");r[n]("aria-label",`${i}. ${l.dataLabels.sliderControl}`),w(e),e==="add"&&(_.detectOS()==="windows"&&(r.removeAttribute("role"),l.isWindows=!0),p(),r.querySelector(".el-slider__button").removeAttribute("tabindex"))}function w(e="add"){const n=a.value?.$el;if(!_.isHTMLElement(n))return;const r=b(e),i=`${e}EventListener`,u=n.querySelector(".el-slider__button-wrapper");u[r]("role","button"),u[i]("keydown",A),u[i]("focus",L),u[i]("blur",T)}function $(e){if(!l.isWindows&&l.isFocused){const n=c.value;l.allyTimer&&clearTimeout(l.allyTimer),n.textContent=`${l.dataLabels.liveText} ${e}`,l.allyTimer=setTimeout(()=>{n.textContent=""},d.ALLY_TIMER)}p()}function p(){const e=a.value?.$el.querySelector(".el-slider__button-wrapper"),n=`${s.modelValue}. Slider. ${l.dataLabels.sliderBtnControl}`;l.isWindows?e.setAttribute("aria-label",`${n} in Focus Mode`):e.setAttribute("aria-label",`${n}`)}return(e,n)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createVNode(t.unref(B.ElSlider),t.mergeProps({ref_key:"sliderRef",ref:a,modelValue:s.modelValue},{...t.unref(f)||{},...t.unref(v.generateTestId)(t.unref(f),"slider")},{onInput:n[0]||(n[0]=r=>o("update:modelValue",r)),onChange:n[1]||(n[1]=r=>o("change",r))}),null,16,["modelValue"]),t.createElementVNode("span",{ref_key:"allyTextRef",ref:c,class:"cyw-wrapper__live","aria-relevant":"text additions","aria-live":"polite","aria-atomic":"false"},null,512)],64))}});exports._sfc_main=V;
//# sourceMappingURL=CySlider.vue_vue_type_script_setup_true_lang-140c9f08.cjs.map
