{"version":3,"file":"CySelectLayout.vue_vue_type_script_setup_true_lang-f2607b64.cjs","sources":["../src/components/select-layout/CySelectLayout.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, mergeProps as _mergeProps, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = [\"aria-busy\", \"infinite-scroll-disabled\", \"infinite-scroll-distance\", \"id\"]\nconst _hoisted_2 = [\"role\"]\n\nimport { ElInfiniteScroll } from \"element-plus\";\nimport CySelectOption from \"../select-option/CySelectOption.vue\";\nimport CyAvatar from \"../avatar/CyAvatar.vue\";\nimport CyShimmer from \"../shimmer/CyShimmer.vue\";\nimport { Props } from \"./types\";\nimport { computed, useAttrs } from \"vue\";\nimport CyFlexText from \"../flex-text/CyFlexText.vue\";\nimport { isNull } from \"../../utilities/shared\";\nimport KeyStroke from \"../../directives/keystroke/index.js\";\nimport { getProp } from \"../../utilities/prototypes.js\";\nimport { generateTestId } from \"../../utilities/bind-attributes\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\n  name: \"CySelectLayout\",\n  inheritAttrs: false,\n  directives: {\n    \"infinite-scroll\": { ...ElInfiniteScroll },\n    \"cy-keystroke\": KeyStroke\n  }\n},\n  __name: 'CySelectLayout',\n  props: {\n    config: { default: () => ({ optionRole: \"menuitem\" }) },\n    value: { default: null },\n    data: { default: null },\n    componentId: {},\n    tabindex: { default: 0 },\n    optionStyle: {},\n    identifier: { default: \"\" },\n    paginated: { type: Boolean, default: false },\n    name: {},\n    busy: { type: Boolean, default: false },\n    disableOption: { type: [Object, Function, Boolean], default: false },\n    loaderClass: {},\n    shimmerClass: {},\n    loaderStyle: {},\n    valueIdentifier: { default: \"\" },\n    optionPlacement: { default: \"bottom\" },\n    subHeadingKey: { default: \"\" },\n    bust: { type: Boolean },\n    scrollerDistance: { default: 1 },\n    loading: { type: Boolean, default: false },\n    multiple: { type: Boolean, default: false },\n    optionClass: { default: \"\" },\n    optionProps: { default: () => ({\n    flexAlign: \"row\",\n    icon: \"\",\n    iconStyle: () => ({}),\n    iconSize: \"1.6\"\n  }) },\n    optionAttrs: {}\n  },\n  emits: [\n  \"setSelectedData\",\n  \"setShowFilter\",\n  \"parentEvent\",\n  \"loadMore\"\n],\n  setup(__props: any, { emit: __emit }) {\n\nconst $attrs = useAttrs();\n\n\n\nconst props = __props;\n\nconst emits = __emit;\n\nconst bindAttrs = computed(() => {\n  let attrs = { ...(useAttrs() || {}) };\n  if (!attrs.role) attrs.role = \"menu\";\n  return attrs;\n});\n\nconst setSelectedData = (option: any) => {\n  if (!props.multiple) emits(\"setShowFilter\");\n  emits(\"setSelectedData\", option);\n};\nconst loadMore = () => {\n  if (!props.busy && props.paginated) emits(\"loadMore\");\n};\nconst isOptionDisabled = (option: any) => {\n  const dataType = typeof props.disableOption;\n  if (dataType === \"function\") return props.disableOption(option);\n  else if (dataType === \"boolean\" || isNull(props.disableOption))\n    return props.disableOption || false;\n  return false;\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_infinite_scroll = _resolveDirective(\"infinite-scroll\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _mergeProps({\n    class: \"cyw-select-menu__layout cyw-px-3 cyw-py-1 cyw-m-0 cyw-overlay-scroll cyw-overlay-scroll-y cyw-overlay-scroll--show\",\n    name: \"wrapper\",\n    \"aria-busy\": props.busy,\n    \"infinite-scroll-disabled\": props.busy || !props.paginated,\n    \"infinite-scroll-distance\": props.scrollerDistance,\n    id: `${props.componentId}-list`,\n    \"cy-data-list\": true\n  }, bindAttrs.value, {\n    onKeydown: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('parentEvent', $event)))\n  }), [\n    _renderSlot(_ctx.$slots, \"default\"),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.data, (option, index) => {\n      return (_openBlock(), _createBlock(CySelectOption, _mergeProps({\n        optionProps: props.optionProps,\n        id: 'list-item-' + index,\n        role: props.config.optionRole,\n        ref_for: true\n      }, {\n        ..._ctx.optionAttrs,\n        ..._unref(generateTestId)(_unref($attrs), 'option-' + index)\n      }, {\n        key: index,\n        class: [props.optionClass, \"cyw-select-option cyw-round-md\"],\n        valueIdentifier: props.valueIdentifier,\n        identifier: props.identifier,\n        subHeadingKey: props.subHeadingKey,\n        disabled: isOptionDisabled(option),\n        optionPlacement: props.optionPlacement,\n        style: props.optionStyle,\n        onClick: setSelectedData,\n        option: option,\n        multiple: props.multiple,\n        value: _ctx.value\n      }), {\n        option: _withCtx(() => [\n          _renderSlot(_ctx.$slots, \"option\", _mergeProps({ ref_for: true }, { option, index }), () => [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"cyw-flex cyw-w-100 cyw-text-ellipsis\", \n              !_ctx.multiple ? 'cyw-w-inherit' : 'cyw-select-menu-option--multiple'\n            ])\n            }, [\n              (\n                _unref(getProp)(_ctx.optionProps, 'icon', '').length > 0 ||\n                _ctx.optionProps.avatar\n              )\n                ? (_openBlock(), _createBlock(CyAvatar, {\n                    key: 0,\n                    \"aria-hidden\": true,\n                    avatarStyle: _ctx.optionProps.iconStyle,\n                    size: _ctx.optionProps.iconSize,\n                    icon: _ctx.optionProps.icon,\n                    shape: _ctx.optionProps.shape,\n                    color: _ctx.optionProps.color,\n                    avatarClass: _ctx.optionProps.avatarClass,\n                    firstName: _ctx.optionProps?.avatar?.(option),\n                    class: \"cyw-mr-3\"\n                  }, null, 8 /* PROPS */, [\"avatarStyle\", \"size\", \"icon\", \"shape\", \"color\", \"avatarClass\", \"firstName\"]))\n                : _createCommentVNode(\"v-if\", true),\n              _createVNode(CyFlexText, {\n                class: _normalizeClass([\"cyw-w-inherit\", {\n                'cyw-select-option--with-icon':\n                  _unref(getProp)(_ctx.optionProps, 'icon', '').length > 0 ||\n                  _ctx.optionProps.avatar\n              }]),\n                heading: \n                typeof option === 'object'\n                  ? _unref(getProp)(option, props.valueIdentifier)\n                  : option\n              ,\n                subHeading: \n                props.subHeadingKey\n                  ? _unref(getProp)(option, props.subHeadingKey)\n                  : props.subHeadingKey\n              ,\n                direction: props.optionProps.flexAlign\n              }, null, 8 /* PROPS */, [\"class\", \"heading\", \"subHeading\", \"direction\"])\n            ], 2 /* CLASS */)\n          ])\n        ]),\n        _: 2 /* DYNAMIC */\n      }, 1040 /* FULL_PROPS, DYNAMIC_SLOTS */, [\"optionProps\", \"id\", \"role\", \"class\", \"valueIdentifier\", \"identifier\", \"subHeadingKey\", \"disabled\", \"optionPlacement\", \"style\", \"option\", \"multiple\", \"value\"]))\n    }), 128 /* KEYED_FRAGMENT */)),\n    (props.loading || props.busy)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          role: props.config.optionRole,\n          \"aria-hidden\": true,\n          class: _normalizeClass([\"cyw-w-100 cyw-px-4\", { 'cyw-mt-3': props.loading }]),\n          style: _normalizeStyle(props.loaderStyle)\n        }, [\n          _renderSlot(_ctx.$slots, \"loader\", {}, () => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(3, (x) => {\n              return _createVNode(CyShimmer, {\n                view: \"single\",\n                type: \"single\",\n                class: \"cyw-py-3\",\n                dimension: \"small\",\n                key: 'shimmer-' + x\n              })\n            }), 64 /* STABLE_FRAGMENT */))\n          ])\n        ], 14 /* CLASS, STYLE, PROPS */, _hoisted_2))\n      : _createCommentVNode(\"v-if\", true)\n  ], 16 /* FULL_PROPS */, _hoisted_1)), [\n    [_directive_infinite_scroll, loadMore]\n  ])\n}\n}\n\n})"],"names":["_hoisted_1","_hoisted_2","_sfc_main","_defineComponent","ElInfiniteScroll","KeyStroke","__props","__emit","$attrs","useAttrs","props","emits","bindAttrs","computed","attrs","setSelectedData","option","loadMore","isOptionDisabled","dataType","isNull","_ctx","_cache","_directive_infinite_scroll","__unplugin_directives_0","_withDirectives","_openBlock","_createElementBlock","_mergeProps","$event","_renderSlot","_Fragment","_renderList","index","_createBlock","CySelectOption","_unref","generateTestId","_withCtx","_createElementVNode","_normalizeClass","getProp","CyAvatar","_createCommentVNode","_createVNode","CyFlexText","_normalizeStyle","x","CyShimmer"],"mappings":"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"}