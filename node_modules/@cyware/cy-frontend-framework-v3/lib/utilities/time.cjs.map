{"version":3,"file":"time.cjs","sources":["../../src/utilities/time.js"],"sourcesContent":["export const fromTzToLocal = function(value, timezone) {\n  if (value) {\n    return new Date(new Date(value).toLocaleString('en', {timeZone: timezone}))\n  }\n  return value\n}\n\nexport const fromLocalToTz = function(value, timezone, format) {\n  if (value) {\n    let shortZone = new Date().toLocaleTimeString('en', {timeZone: timezone, timeZoneName: 'short', hour12: false}).substring(9)\n    let longZone = new Date().toLocaleTimeString('en', {timeZone: timezone, timeZoneName: 'long', hour12: false}).substring(9)\n    let datetime = new Date(value).toLocaleString('en')\n    let date = new Date(`${datetime} ${shortZone} (${longZone})`)\n    if (format === 'timestamp' || format === 'x') {\n      return date.getTime()\n    }\n    return date\n  }\n  return value\n}\nexport const timeFormatMapping = {\n  '24_includeSec': 'HH:mm:ss [hrs]',\n  '12_includeSec': 'hh:mm:ss A',\n  24: 'HH:mm [hrs]',\n  12: 'hh:mm A'\n}\nexport default function (vue, { store, dataKey, formatKey, timeKey }) {\n  function innerTime(value, format) {\n    if (value && vue.moment(value).isValid()) {\n      return vue.moment(value).format(format)\n    }\n    return value\n  }\n\n  vue.filter('date', (value) => {\n    let data = store.getters[dataKey] || {}\n    return innerTime(value, data[formatKey])\n  })\n  vue.filter('time', (value, includeSecond = false) => {\n    let data = store.getters[dataKey] || {}\n    return innerTime(\n      value,\n      timeFormatMapping[data[timeKey] + (includeSecond ? '_includeSec' : '')]\n    )\n  })\n  vue.filter('dateTime', (value, includeSecond = false) => {\n    let data = store.getters[dataKey] || {}\n    return innerTime(\n      value,\n      `${data[formatKey]} ${\n        timeFormatMapping[data[timeKey] + (includeSecond ? '_includeSec' : '')]\n      }`\n    )\n  })\n}\n"],"names":["fromTzToLocal","value","timezone","fromLocalToTz","format","shortZone","longZone","datetime","date","timeFormatMapping","time","vue","store","dataKey","formatKey","timeKey","innerTime","data","includeSecond"],"mappings":"4GAAY,MAACA,EAAgB,SAASC,EAAOC,EAAU,CACrD,OAAID,GACK,IAAI,KAAK,IAAI,KAAKA,CAAK,EAAE,eAAe,KAAM,CAAC,SAAUC,CAAQ,CAAC,CAAC,CAG9E,EAEaC,EAAgB,SAASF,EAAOC,EAAUE,EAAQ,CAC7D,GAAIH,EAAO,CACT,IAAII,EAAY,IAAI,KAAI,EAAG,mBAAmB,KAAM,CAAC,SAAUH,EAAU,aAAc,QAAS,OAAQ,EAAK,CAAC,EAAE,UAAU,CAAC,EACvHI,EAAW,IAAI,KAAI,EAAG,mBAAmB,KAAM,CAAC,SAAUJ,EAAU,aAAc,OAAQ,OAAQ,EAAK,CAAC,EAAE,UAAU,CAAC,EACrHK,EAAW,IAAI,KAAKN,CAAK,EAAE,eAAe,IAAI,EAC9CO,EAAO,IAAI,KAAK,GAAGD,CAAQ,IAAIF,CAAS,KAAKC,CAAQ,GAAG,EAC5D,OAAIF,IAAW,aAAeA,IAAW,IAChCI,EAAK,QAAS,EAEhBA,CACR,CACD,OAAOP,CACT,EACaQ,EAAoB,CAC/B,gBAAiB,iBACjB,gBAAiB,aACjB,GAAI,cACJ,GAAI,SACN,EACe,SAAAC,EAAUC,EAAK,CAAE,MAAAC,EAAO,QAAAC,EAAS,UAAAC,EAAW,QAAAC,CAAO,EAAI,CACpE,SAASC,EAAUf,EAAOG,EAAQ,CAChC,OAAIH,GAASU,EAAI,OAAOV,CAAK,EAAE,QAAO,EAC7BU,EAAI,OAAOV,CAAK,EAAE,OAAOG,CAAM,EAEjCH,CACR,CAEDU,EAAI,OAAO,OAASV,GAAU,CAC5B,IAAIgB,EAAOL,EAAM,QAAQC,CAAO,GAAK,CAAE,EACvC,OAAOG,EAAUf,EAAOgB,EAAKH,CAAS,CAAC,CAC3C,CAAG,EACDH,EAAI,OAAO,OAAQ,CAACV,EAAOiB,EAAgB,KAAU,CACnD,IAAID,EAAOL,EAAM,QAAQC,CAAO,GAAK,CAAE,EACvC,OAAOG,EACLf,EACAQ,EAAkBQ,EAAKF,CAAO,GAAKG,EAAgB,cAAgB,GAAG,CACvE,CACL,CAAG,EACDP,EAAI,OAAO,WAAY,CAACV,EAAOiB,EAAgB,KAAU,CACvD,IAAID,EAAOL,EAAM,QAAQC,CAAO,GAAK,CAAE,EACvC,OAAOG,EACLf,EACA,GAAGgB,EAAKH,CAAS,CAAC,IAChBL,EAAkBQ,EAAKF,CAAO,GAAKG,EAAgB,cAAgB,GAAG,CAC9E,EACK,CACL,CAAG,CACH"}