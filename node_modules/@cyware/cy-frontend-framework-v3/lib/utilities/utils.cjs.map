{"version":3,"file":"utils.cjs","sources":["../../src/utilities/utils.js"],"sourcesContent":["const counter = {};\nconst EXCLUDE_CLASSES = [\"cyw-select-option\"];\n\nfunction checkIsRefContained(parent, target) {\n  const refId = target?.getAttribute?.(\"data-popper-ref\");\n  if (refId?.length) {\n    const ref = document.querySelector(`[data-popper-action=\"${refId}\"]`);\n    return parent?.contains?.(ref) || false;\n  }\n  return false;\n}\n\nexport function isOutsideClick(parent, target = null) {\n  while (target) {\n    const classes = target?.className || \"\";\n    if (\n      parent === target ||\n      EXCLUDE_CLASSES.some((className) => classes?.includes?.(className)) ||\n      checkIsRefContained(parent, target)\n    )\n      return false;\n    target = target.parentNode;\n  }\n  return true;\n}\n\nexport function uniqueId(prefix = false) {\n  if (!counter[prefix]) {\n    counter[prefix] = 0;\n  }\n  const id = ++counter[prefix];\n  return !prefix ? `${id}` : `${prefix}${id}`;\n}\n\nexport function computeEllipsisData(data, { referenceElm, el }) {\n  const refBoundary = referenceElm?.getBoundingClientRect();\n  const parentBoundary = el?.value?.parentNode?.getBoundingClientRect();\n  if (refBoundary.width >= parentBoundary.width) {\n    const { placement } = data.state;\n    const { popper } = data.state.styles;\n    const { popperOffsets, preventOverflow } = data.state.modifiersData;\n    let shiftX = parentBoundary.width - refBoundary.width;\n    const isXPlacement = [\"top\", \"bottom\"].map((dir) =>\n      placement.includes(dir)\n    );\n    if ([\"top\", \"bottom\"].includes(placement)) shiftX /= 2;\n    if (isXPlacement && placement.endsWith(\"start\")) shiftX = 0;\n    if (popperOffsets.x + shiftX < 0) shiftX = -popperOffsets.x;\n    popperOffsets.x += shiftX;\n    preventOverflow.x -= shiftX;\n    popper.transform = `translate3d(${popperOffsets.x}px, ${popperOffsets.y}px, 0)`;\n  }\n  return data?.state;\n}\n"],"names":["counter","EXCLUDE_CLASSES","checkIsRefContained","parent","target","refId","ref","isOutsideClick","classes","className","uniqueId","prefix","id","computeEllipsisData","data","referenceElm","el","refBoundary","parentBoundary","placement","popper","popperOffsets","preventOverflow","shiftX","isXPlacement","dir"],"mappings":"gFAAA,MAAMA,EAAU,CAAA,EACVC,EAAkB,CAAC,mBAAmB,EAE5C,SAASC,EAAoBC,EAAQC,EAAQ,CAC3C,MAAMC,EAAQD,GAAQ,eAAe,iBAAiB,EACtD,GAAIC,GAAO,OAAQ,CACjB,MAAMC,EAAM,SAAS,cAAc,wBAAwBD,CAAK,IAAI,EACpE,OAAOF,GAAQ,WAAWG,CAAG,GAAK,EACnC,CACD,MAAO,EACT,CAEO,SAASC,EAAeJ,EAAQC,EAAS,KAAM,CACpD,KAAOA,GAAQ,CACb,MAAMI,EAAUJ,GAAQ,WAAa,GACrC,GACED,IAAWC,GACXH,EAAgB,KAAMQ,GAAcD,GAAS,WAAWC,CAAS,CAAC,GAClEP,EAAoBC,EAAQC,CAAM,EAElC,MAAO,GACTA,EAASA,EAAO,UACjB,CACD,MAAO,EACT,CAEO,SAASM,EAASC,EAAS,GAAO,CAClCX,EAAQW,CAAM,IACjBX,EAAQW,CAAM,EAAI,GAEpB,MAAMC,EAAK,EAAEZ,EAAQW,CAAM,EAC3B,OAAQA,EAAmB,GAAGA,CAAM,GAAGC,CAAE,GAAxB,GAAGA,CAAE,EACxB,CAEO,SAASC,EAAoBC,EAAM,CAAE,aAAAC,EAAc,GAAAC,CAAE,EAAI,CAC9D,MAAMC,EAAcF,GAAc,wBAC5BG,EAAiBF,GAAI,OAAO,YAAY,sBAAqB,EACnE,GAAIC,EAAY,OAASC,EAAe,MAAO,CAC7C,KAAM,CAAE,UAAAC,CAAS,EAAKL,EAAK,MACrB,CAAE,OAAAM,CAAQ,EAAGN,EAAK,MAAM,OACxB,CAAE,cAAAO,EAAe,gBAAAC,CAAe,EAAKR,EAAK,MAAM,cACtD,IAAIS,EAASL,EAAe,MAAQD,EAAY,MAChD,MAAMO,EAAe,CAAC,MAAO,QAAQ,EAAE,IAAKC,GAC1CN,EAAU,SAASM,CAAG,CAC5B,EACQ,CAAC,MAAO,QAAQ,EAAE,SAASN,CAAS,IAAGI,GAAU,GACjDC,GAAgBL,EAAU,SAAS,OAAO,IAAGI,EAAS,GACtDF,EAAc,EAAIE,EAAS,IAAGA,EAAS,CAACF,EAAc,GAC1DA,EAAc,GAAKE,EACnBD,EAAgB,GAAKC,EACrBH,EAAO,UAAY,eAAeC,EAAc,CAAC,OAAOA,EAAc,CAAC,QACxE,CACD,OAAOP,GAAM,KACf"}