{"version":3,"file":"shared.cjs","sources":["../../src/utilities/shared.ts"],"sourcesContent":["import { Buffer } from \"buffer\";\nimport { isEqual } from \"radash\";\nimport { isRef, toRefs } from \"vue\";\nimport { getProp as get } from \"./prototypes\";\n\nconst BROWSER_TYPES: Record<string, RegExp> = {\n  chrome: /chrome|chromium|crios/i,\n  firefox: /firefox|fxios/i,\n  opera: /opr\\//i,\n  safari: /safari/i,\n  edge: /edg/i\n};\n\nfunction isNull(value: any) {\n  return value === null || typeof value === \"undefined\";\n}\n\nfunction slice(\n  value: any,\n  start: number | undefined,\n  end: number,\n  concat = true\n) {\n  if (typeof value !== \"string\" || !value?.length) return value;\n  return value && value.length > end\n    ? `${value.slice(start, end)}${concat ? \"...\" : \"\"}`\n    : value;\n}\n\nfunction isHTMLElement(node: any): boolean {\n  return node instanceof HTMLElement || node instanceof Element;\n}\n\nfunction objectByType(obj: Record<string, any>, type = \"function\") {\n  const newObj: Record<string, any> = {};\n  for (let key in obj) {\n    if (typeof obj[key] !== type) {\n      newObj[key] = obj[key];\n    }\n  }\n  return newObj;\n}\n\nfunction isObjectMatch(obj1: Record<string, any>, obj2: Record<string, any>) {\n  return isEqual(objectByType(obj1), objectByType(obj2));\n}\n\nfunction atob(value: string) {\n  return Buffer.from(value, \"base64\").toString();\n}\nfunction btoa(value: string) {\n  return Buffer.from(value).toString(\"base64\");\n}\n\nfunction keyToLabel(value: string) {\n  if (isNull(value) || !value?.length) return value;\n  return value.toString().replace(/[_-]+/g, \" \");\n}\n\nfunction isEmpty(value: any, message?: string) {\n  if (typeof value === \"boolean\") return value;\n  if (typeof value === \"number\" && !isNaN(value)) return value;\n  if (\n    isNull(value) ||\n    !value?.length ||\n    (typeof value === \"object\" && !Object.keys(value).length)\n  )\n    return message || \"NA\";\n  return value;\n}\n\nfunction uuId() {\n  let date = new Date().getTime();\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (date + Math.random() * 16) % 16 | 0;\n    date = Math.floor(date / 16);\n    return (c == \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n  });\n}\n\nfunction detectOS() {\n  if (navigator.userAgent.indexOf(\"Win\") !== -1) return \"windows\";\n  else if (\n    navigator.userAgent.indexOf(\"Mac\") !== -1 ||\n    navigator.userAgent.indexOf(\"Linux\") !== -1\n  )\n    return \"unix\";\n  return null;\n}\n\nfunction detectBrowser() {\n  const userAgent = navigator.userAgent;\n  return Object.keys(BROWSER_TYPES).find((key: string) =>\n    userAgent.match(BROWSER_TYPES?.[key])\n  );\n}\n\nfunction lowerCase(value: Record<string, any>, key: string) {\n  const data = get(value, key, \"\");\n  if (data) return (data || \"\").toString().toLowerCase();\n  return \"\";\n}\n\nfunction toFixed(value: any, precison = 2) {\n  if (![\"number\"].includes(typeof value) || isNull(value)) return value;\n  return value && value % 1 !== 0 ? value.toFixed(precison) : value;\n}\n\nfunction isArrayEmpty(data: Array<any>, isLength = true) {\n  data = (data || []).filter((data) => {\n    if (typeof data === \"object\") data = Object.keys(data);\n    return data?.length;\n  });\n  if (isLength) return !data?.length;\n  return data;\n}\n\nfunction isDataEmpty(value: any, validateArray = false) {\n  const length = Object.keys(value || {})?.length;\n  if (isNull(value) || !length) return true;\n  if (length)\n    return Object.keys(value || {}).every((key) => {\n      let dataValue = value?.[key];\n      if (Array.isArray(dataValue) && validateArray)\n        return isArrayEmpty(dataValue);\n      return (\n        isNull(dataValue) ||\n        ([\"string\"].includes(typeof dataValue) && !dataValue?.length)\n      );\n    });\n  return false;\n}\n\nfunction getRef(value: any) {\n  return isRef(value) ? toRefs(value) : value;\n}\n\nexport {\n  BROWSER_TYPES,\n  isNull,\n  toFixed,\n  slice,\n  isEmpty,\n  isDataEmpty,\n  atob,\n  btoa,\n  keyToLabel,\n  isObjectMatch,\n  objectByType,\n  isHTMLElement,\n  detectOS,\n  uuId,\n  lowerCase,\n  detectBrowser,\n  getRef\n};\n"],"names":["BROWSER_TYPES","isNull","value","slice","start","end","concat","isHTMLElement","node","objectByType","obj","type","newObj","key","isObjectMatch","obj1","obj2","isEqual","atob","Buffer","btoa","keyToLabel","isEmpty","message","uuId","date","c","detectOS","detectBrowser","userAgent","lowerCase","data","get","toFixed","precison","isArrayEmpty","isLength","isDataEmpty","validateArray","length","dataValue","getRef","isRef","toRefs"],"mappings":"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"}