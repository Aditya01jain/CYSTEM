{"version":3,"file":"CyAccordionItem.vue_vue_type_script_setup_true_lang-7237ff6b.cjs","sources":["../src/components/accordion/CyAccordionItem.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, toHandlers as _toHandlers, mergeProps as _mergeProps, vShow as _vShow, withDirectives as _withDirectives, withCtx as _withCtx, createVNode as _createVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = [\"role\", \"id\", \"tabindex\", \"aria-disabled\", \"aria-expanded\", \"aria-controls\"]\nconst _hoisted_2 = { class: \"cyw-flex-grow-1\" }\nconst _hoisted_3 = [\"aria-hidden\", \"aria-labelledby\", \"id\"]\nconst _hoisted_4 = { class: \"cyw-accordion-item__content cyw-text-f14 cyw-pb-3\" }\n\nimport { computed, inject, reactive, useAttrs, PropType } from \"vue\";\nimport CollapseTransition from \"../../transitions/Collapse.vue\";\nimport { uuId } from \"../../utilities/shared\";\nimport keyHandler from \"../../prototypes/keyHandler/index.js\";\n\ntype IconPlacement = \"left\" | \"right\";\ntype AccordionType = \"panel\" | \"list\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\n  name: \"CyAccordionItem\"\n},\n  __name: 'CyAccordionItem',\n  props: {\n  title: {\n    type: String,\n    default: \"\"\n  },\n  headerIcon: {\n    type: String,\n    default: \"\"\n  },\n  name: {\n    type: [String, Number]\n  },\n  disabled: { type: Boolean },\n  tabindex: { default: 0, type: Number },\n  iconPlacement: { type: String as PropType<IconPlacement>, default: \"right\" },\n  type: { type: String as PropType<AccordionType>, default: \"panel\" },\n  style: { type: Object, default: () => {} }\n},\n  setup(__props) {\n\n\n\nconst $attrs = useAttrs();\n\nconst state = reactive({\n  id: uuId(),\n  isTransitioned: true\n});\n\nconst props = __props;\n\nconst collapse: Record<string, any> = inject(\"collapse\", {});\nconst handleItemClick: any = inject(\"item-click\");\n\nconst isActive = computed(() => {\n  return !props.disabled && collapse?.activeItems?.includes(props.name);\n});\n\nconst getTabIndex = computed(() => {\n  if (props.disabled) return -1;\n  return props.tabindex;\n});\n\nfunction handleHeaderClick() {\n  state.isTransitioned = false;\n  if (props.disabled) return;\n  handleItemClick(props.name);\n  setTimeout(() => (state.isTransitioned = true), 400);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"cyw-accordion-item\", {\n      'is-expanded': isActive.value,\n      'is-disabled': props.disabled,\n      'cyw-accordion-item--transparent': props.type === 'list'\n    }]),\n    style: _normalizeStyle(props.style || {})\n  }, [\n    _createElementVNode(\"div\", _mergeProps({\n      role: (_unref($attrs).role as string) || 'button',\n      id: `cyw-accordion-head-${state.id}`,\n      class: [\"cyw-accordion-item__header cyw-flex-align-center cyw-text-f14\", {\n        'is-expanded': isActive.value,\n        'cyw-cursor-pointer': !props.disabled,\n        'cyw-flex-rev': __props.iconPlacement === 'left'\n      }],\n      tabindex: getTabIndex.value,\n      \"aria-disabled\": props.disabled,\n      \"aria-expanded\": isActive.value,\n      \"aria-controls\": `cyw-accordion-content-${state.id}`\n    }, _unref($attrs) || {}, _toHandlers(_unref(keyHandler)(handleHeaderClick), true)), [\n      _renderSlot(_ctx.$slots, \"title\", _normalizeProps(_guardReactiveProps({ setActive: handleHeaderClick, isActive: isActive.value })), () => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          (__props.headerIcon)\n            ? (_openBlock(), _createElementBlock(\"i\", {\n                key: 0,\n                class: _normalizeClass([props.headerIcon, \"cyw-px-3\"]),\n                \"aria-hidden\": true\n              }, null, 2 /* CLASS */))\n            : _createCommentVNode(\"v-if\", true),\n          _createElementVNode(\"span\", null, _toDisplayString(props.title), 1 /* TEXT */)\n        ])\n      ]),\n      _renderSlot(_ctx.$slots, \"icon\", _normalizeProps(_guardReactiveProps({ isActive: isActive.value })), () => [\n        _createElementVNode(\"i\", {\n          class: _normalizeClass([\"cyw-accordion-item__arrow cyw-text-f10 cyw-mr-2 cyw-ml-auto\", {\n            'is-expanded cyw-rotate-90': isActive.value,\n            'cyicon-play cyw-accordion-item__arrow--left':\n              props.iconPlacement === 'left',\n            'cyicon-chevron-right': props.iconPlacement === 'right'\n          }]),\n          \"aria-hidden\": true\n        }, null, 2 /* CLASS */)\n      ])\n    ], 16 /* FULL_PROPS */, _hoisted_1),\n    _createVNode(CollapseTransition, null, {\n      default: _withCtx(() => [\n        _withDirectives(_createElementVNode(\"section\", {\n          class: _normalizeClass([\"cyw-accordion-item__wrap\", {\n          'cyw-overflow-hidden': !state.isTransitioned,\n          'cyw-accordion-item__wrap--icon': props.headerIcon\n        }]),\n          \"aria-hidden\": !isActive.value,\n          \"aria-labelledby\": `cyw-accordion-head-${state.id}`,\n          id: `cyw-accordion-content-${state.id}`\n        }, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _renderSlot(_ctx.$slots, \"default\", _normalizeProps(_guardReactiveProps({ isActive: isActive.value })))\n          ])\n        ], 10 /* CLASS, PROPS */, _hoisted_3), [\n          [_vShow, isActive.value]\n        ])\n      ]),\n      _: 3 /* FORWARDED */\n    })\n  ], 6 /* CLASS, STYLE */))\n}\n}\n\n})"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_sfc_main","_defineComponent","__props","$attrs","useAttrs","state","reactive","uuId","props","collapse","inject","handleItemClick","isActive","computed","getTabIndex","handleHeaderClick","_ctx","_cache","_openBlock","_createElementBlock","_normalizeClass","_normalizeStyle","_createElementVNode","_mergeProps","_unref","_toHandlers","keyHandler","_renderSlot","_normalizeProps","_guardReactiveProps","_createCommentVNode","_toDisplayString","_createVNode","CollapseTransition","_withCtx","_withDirectives","_vShow"],"mappings":"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"}