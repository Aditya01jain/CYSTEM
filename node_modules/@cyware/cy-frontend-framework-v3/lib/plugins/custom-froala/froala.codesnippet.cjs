"use strict";const i=require("highlight.js"),c=require("froala-editor"),r="Select text to display the content in a code block.",a="font-size: 14px; padding: 20px; max-width: 200px; word-break: break-word";c.POPUP_TEMPLATES["codeSnippet.popup"]="[_CUSTOM_LAYER_]";c.PLUGINS.codeSnippet=function(e){const s=()=>{const p=e.selection.blocks().map(o=>`<div>${o.innerHTML}</div>`).join("");e.html.insert(`<pre class="before-hl"><code class="hljs">${p}</code></pre><br>`);const t=e.el;t.querySelectorAll(".before-hl code br").forEach(o=>{o.replaceWith(document.createTextNode(`
`))}),t.querySelectorAll("pre.before-hl code div").forEach(o=>{i.highlightElement(o)}),t.querySelectorAll("pre.before-hl").forEach(o=>{o.classList.remove("before-hl")})},l=()=>{const n={custom_layer:`<div style="${a}">${r}</div>`};return e.popups.create("codeSnippet.popup",n)};return{apply:s,showPopup:()=>{e.popups.get("codeSnippet.popup")||l(),e.popups.setContainer("codeSnippet.popup",e.$tb),e.popups.refresh("codeSnippet.popup");const p=e.$tb.find('.fr-command[data-cmd="codeSnippet"]'),t=p.offset().left-10,o=p.offset().top+(e.opts.toolbarBottom?10:p.outerHeight()-10);e.popups.show("codeSnippet.popup",t,o,p.outerHeight())}}};c.DefineIconTemplate("cyware-design",'<i class="cy-flex-center cy-text-f18 cyicon cyicon-code-snippet"></i>');c.DefineIcon("codeSnippetIcon",{NAME:"codeSnippetIcon",template:"cyware-design"});c.RegisterCommand("codeSnippet",{title:"Code Snippet",icon:"codeSnippetIcon",undo:!0,focus:!0,refreshAfterCallback:!0,callback:function(){!this.selection.isCollapsed()?this.codeSnippet.apply():this.codeSnippet.showPopup()}});
//# sourceMappingURL=froala.codesnippet.cjs.map
