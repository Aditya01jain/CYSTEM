{"version":3,"file":"ColumnSelector.vue_vue_type_script_setup_true_lang-b48d7738.cjs","sources":["../src/components/table/table-header/ColumnSelector.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"cyw-column-selector cyw-overflow-hidden cyw-round-md cyw-base-font\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"cyw-p-3\"\n}\nconst _hoisted_3 = {\n  id: \"fixed-section-header\",\n  class: \"cyw-color-N600 cyw-text-f10 cyw-p-3\"\n}\nconst _hoisted_4 = {\n  \"aria-labelledby\": \"fixed-section-header\",\n  class: \"cyw-list-unstyled cyw-column-selector__list-box cyw-overflow-y-auto\",\n  role: \"listbox\"\n}\nconst _hoisted_5 = {\n  key: 1,\n  class: \"cyw-border cyw-my-0\"\n}\nconst _hoisted_6 = {\n  key: 2,\n  class: \"cyw-p-3\"\n}\nconst _hoisted_7 = {\n  id: \"custom-section-header\",\n  class: \"cyw-color-N600 cyw-text-f10 cyw-p-3\"\n}\nconst _hoisted_8 = { class: \"cyw-px-3 cyw-py-2\" }\nconst _hoisted_9 = {\n  key: 0,\n  \"aria-labelledby\": \"custom-section-header\",\n  class: \"cyw-list-unstyled cyw-column-selector__list-box cyw-overflow-y-auto cyw-m-1\",\n  role: \"listbox\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"cyw-p-4 cyw-mt-3 cyw-flex-center cyw-color-N600 cyw-text-f12\"\n}\n\nimport { computed, ref } from \"vue\";\nimport CyButtonGroup from \"../../button-group/CyButtonGroup.vue\";\nimport CySelectOption from \"../../select-option/CySelectOption.vue\";\nimport type { ColumnSelectorProps } from \"./types\";\nimport type { ColumnConfig } from \"../types\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\n  name: \"ColumnSelector\"\n},\n  __name: 'ColumnSelector',\n  props: {\n    columns: {},\n    labels: {},\n    config: {}\n  },\n  emits: [\"toggle-column\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst SECTIONS = [\n  { id: \"active\", label: \"Active\" },\n  { id: \"all\", label: \"All\" }\n];\n\n\n\nconst $emits = __emit;\n\nconst props = __props;\n\nconst activeSection = ref(\"active\");\n\nconst fixedColumns = computed(() =>\n  props.columns.filter((col) => col.noedit && !col.hideLabel)\n);\n\nconst customColumns = computed(() =>\n  props.columns.filter((col) => !col.noedit && !col.hideFromConfig)\n);\n\nconst columnList = computed(() => {\n  return activeSection.value === \"active\"\n    ? selectedColumns.value\n    : customColumns.value;\n});\n\nconst selectedColumns = computed(() =>\n  customColumns.value.filter((col) => col.is_display)\n);\n\nfunction isAddAllowed(column: ColumnConfig) {\n  if (props.config?.max && !column?.is_display)\n    return props.config?.max > selectedColumns.value.length;\n  return true;\n}\n\nfunction updateColumns(column: ColumnConfig) {\n  if (isAddAllowed(column)) $emits(\"toggle-column\", column);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _renderSlot(_ctx.$slots, \"column-selector\", {}, () => [\n      (fixedColumns.value.length)\n        ? (_openBlock(), _createElementBlock(\"section\", _hoisted_2, [\n            _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.labels[\"fixed-columns\"]), 1 /* TEXT */),\n            _createElementVNode(\"ul\", _hoisted_4, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(fixedColumns.value, (column) => {\n                return (_openBlock(), _createElementBlock(\"li\", {\n                  key: column.key,\n                  class: \"cyw-p-3 cyw-text-f14\"\n                }, _toDisplayString(column.label), 1 /* TEXT */))\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true),\n      (fixedColumns.value.length && customColumns.value.length)\n        ? (_openBlock(), _createElementBlock(\"hr\", _hoisted_5))\n        : _createCommentVNode(\"v-if\", true),\n      (selectedColumns.value.length || customColumns.value.length)\n        ? (_openBlock(), _createElementBlock(\"section\", _hoisted_6, [\n            _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.labels[\"other-columns\"]), 1 /* TEXT */),\n            _createElementVNode(\"div\", _hoisted_8, [\n              _createVNode(CyButtonGroup, {\n                modelValue: activeSection.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((activeSection).value = $event)),\n                class: \"cyw-flex-align-center cyw-w-100 cyw-mt-3 cyw-mb-2\",\n                options: SECTIONS,\n                config: { class: 'cyw-column-selector__tabs' },\n                size: \"md\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])\n            ]),\n            (columnList.value.length)\n              ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_9, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(columnList.value, (column) => {\n                    return (_openBlock(), _createBlock(CySelectOption, {\n                      key: column.key,\n                      role: \"option\",\n                      identifier: \"key\",\n                      option: column,\n                      multiple: true,\n                      \"value-identifier\": \"label\",\n                      value: selectedColumns.value,\n                      class: \"cyw-column-selector__option cyw-p-3 cyw-border-bottom\",\n                      onClick: updateColumns\n                    }, null, 8 /* PROPS */, [\"option\", \"value\"]))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ]))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(_ctx.labels[\"no-columns\"]), 1 /* TEXT */))\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ]))\n}\n}\n\n})"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_sfc_main","_defineComponent","__props","__emit","SECTIONS","$emits","props","activeSection","ref","fixedColumns","computed","col","customColumns","columnList","selectedColumns","isAddAllowed","column","updateColumns","_ctx","_cache","_openBlock","_createElementBlock","_renderSlot","_createElementVNode","_toDisplayString","_Fragment","_renderList","_createCommentVNode","_createVNode","CyButtonGroup","$event","_createBlock","CySelectOption"],"mappings":"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"}