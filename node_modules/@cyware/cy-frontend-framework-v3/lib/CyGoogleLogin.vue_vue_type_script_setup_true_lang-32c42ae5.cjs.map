{"version":3,"file":"CyGoogleLogin.vue_vue_type_script_setup_true_lang-32c42ae5.cjs","sources":["../src/components/google-login/CyGoogleLogin.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { onMounted, ref } from \"vue\";\n\nconst GOOGLE_SSO_URL = \"https://accounts.google.com/gsi/client\";\n\ndeclare global {\n  interface Window {\n    google: Record<string, any>;\n  }\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{ name: \"CyGoogleLogin\" },\n  __name: 'CyGoogleLogin',\n  props: {\n  clientId: {\n    type: String,\n    default: \"GOOGLE_CLIENT_ID\",\n    required: true\n  },\n  oneTapLogin: {\n    type: Boolean,\n    default: false\n  },\n  config: {\n    type: Object,\n    default: () => ({ theme: \"outline\", size: \"large\" })\n  }\n},\n  emits: [\"login:callback\"],\n  setup(__props, { emit: __emit }) {\n\n\n\nconst props = __props;\n\nconst googleRef = ref();\nconst elementRef = ref();\n\nonMounted(() => {\n  init();\n});\n\nasync function init() {\n  googleRef.value = await loadGApiScript();\n  googleRef.value.accounts.id.initialize({\n    client_id: props.clientId,\n    callback: (event: any) => {\n      emit(\"login:callback\", event);\n    }\n  });\n  googleRef.value.accounts.id.renderButton(elementRef.value, props.config);\n  if (props.oneTapLogin) googleRef.value.accounts.id.prompt();\n}\n\nfunction loadGApiScript() {\n  return new Promise((resolve) => {\n    const script = document.createElement(\"script\");\n    script.addEventListener(\"load\", () => {\n      resolve(window.google);\n    });\n    script.src = GOOGLE_SSO_URL;\n    script.async = true;\n    script.defer = true;\n    document.head.appendChild(script);\n  });\n}\n\nconst emit = __emit;\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    ref_key: \"elementRef\",\n    ref: elementRef\n  }, null, 512 /* NEED_PATCH */))\n}\n}\n\n})"],"names":["GOOGLE_SSO_URL","_sfc_main","_defineComponent","__props","__emit","props","googleRef","ref","elementRef","onMounted","init","loadGApiScript","event","emit","resolve","script","_ctx","_cache","_openBlock","_createElementBlock"],"mappings":"oCAKAA,EAAA,yCASAC,EAAAC,kBAAA,CAA6C,KAAA,gBAChB,OAAA,gBACnB,MAAA,CACD,SAAA,CACG,KAAA,OACF,QAAA,mBACG,SAAA,EACC,EACZ,YAAA,CACa,KAAA,QACL,QAAA,EACG,EACX,OAAA,CACQ,KAAA,OACA,QAAA,KAAA,CAAA,MAAA,UAAA,KAAA,OAAA,EAC4C,CACpD,EACF,MAAA,CAAA,gBAAA,EAC0B,MAAAC,EAAA,CAAA,KAAAC,CAAA,EAAA,CAK1B,MAAAC,EAAAF,EAEAG,EAAAC,EAAAA,MACAC,EAAAD,EAAAA,MAEAE,EAAAA,UAAA,IAAA,CACEC,GAAK,CAAA,EAGP,eAAAA,GAAA,CACEJ,EAAA,MAAA,MAAAK,IACAL,EAAA,MAAA,SAAA,GAAA,WAAA,CAAuC,UAAAD,EAAA,SACpB,SAAAO,GAAA,CAEfC,EAAA,iBAAAD,CAAA,CAA4B,CAC9B,CAAA,EAEFN,EAAA,MAAA,SAAA,GAAA,aAAAE,EAAA,MAAAH,EAAA,MAAA,EACAA,EAAA,aAAuBC,EAAA,MAAA,SAAA,GAAA,OAAA,CAAmC,CAG5D,SAAAK,GAAA,CACE,OAAA,IAAA,QAAAG,GAAA,CACE,MAAAC,EAAA,SAAA,cAAA,QAAA,EACAA,EAAA,iBAAA,OAAA,IAAA,CACED,EAAA,OAAA,MAAA,CAAqB,CAAA,EAEvBC,EAAA,IAAAf,EACAe,EAAA,MAAA,GACAA,EAAA,MAAA,GACA,SAAA,KAAA,YAAAA,CAAA,CAAgC,CAAA,CACjC,CAGH,MAAAF,EAAAT,EAEA,MAAA,CAAAY,EAAAC,KACEC,EAAAA,UAAA,EAAAC,EAAA,mBAAsB,OAAoB,CAAQ,QAAA,aACvC,IAAAX,CACJ,EACP,KAAG,GAAM,EACX,CAGA,CAAA"}