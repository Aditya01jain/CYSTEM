{"version":3,"file":"CyDataRenderer.vue_vue_type_script_setup_true_lang-68ed700d.cjs","sources":["../src/components/data-renderer/CyDataRenderer.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, renderSlot as _renderSlot, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"cyw-text-ellipsis\" }\n\nimport { computed, useAttrs, defineAsyncComponent } from \"vue\";\nimport { getProp } from \"../../utilities/prototypes.js\";\nimport { isEmpty as isEmptyUtil } from \"../../utilities/shared\";\nimport CyPrimitive from \"../primitive/CyPrimitive.vue\";\nimport type { DataRendererProps as Props } from \"./types\";\nimport { DEFAULT_EMPTY_MESSAGE, DYNAMIC, model } from \"./variables\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\n  name: \"CyDataRenderer\",\n  inheritAttrs: false\n},\n  __name: 'CyDataRenderer',\n  props: {\n    config: {},\n    disabled: { type: Boolean },\n    i18nConfig: {},\n    data: {},\n    wrapperClass: {}\n  },\n  emits: [\"switch\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst StringIcon = defineAsyncComponent(\n  () => import(\"../string-icon/CyStringIcon.vue\")\n);\n\n\n\nconst $attrs = useAttrs();\n\nconst $emits = __emit;\n\nconst props = __props;\n\nconst isEmpty = computed(() => {\n  let { key, childKey } = props.config || {};\n  if (childKey?.length) key = `${key}.${childKey}`;\n  let value = getProp(props.data, key || \"\", null);\n  return isEmptyUtil(value) === DEFAULT_EMPTY_MESSAGE;\n});\n\nfunction configKey() {\n  let { key = \"\", mapper } = props.config || {};\n  return (mapper || key).replaceAll(\":\", \".\");\n}\n\nconst displayData = computed(() => {\n  const {\n    key: valueKey,\n    valueFunc,\n    childKey,\n    default_value\n  } = props.config || {};\n\n  if (valueFunc) return valueFunc({ data: props.data, config: props.config });\n\n  let key = childKey ? [valueKey, childKey] : configKey();\n  const data = getProp(props.data, key);\n\n  if (!data && default_value) return default_value;\n  return typeof data === \"object\" ? JSON.stringify(data) : data;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"cyw-data-renderer cyw-flex-align-center cyw-color-base-font\", _ctx.config.class])\n  }, [\n    (_ctx.config.type !== 'string-icon' && !isEmpty.value)\n      ? _renderSlot(_ctx.$slots, \"prefix\", _normalizeProps(_mergeProps({ key: 0 }, { isEmpty: isEmpty.value, value: _ctx.data, config: _ctx.config })))\n      : _createCommentVNode(\"v-if\", true),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"cyw-text-ellipsis cyw-flex-grow-1 cyw-text-f12 cyw-color-base-font cyw-data-renderer__value\", _unref(getProp)(_ctx.config, 'subClass', '')])\n    }, [\n      _renderSlot(_ctx.$slots, \"content\", _normalizeProps(_guardReactiveProps({ config: _ctx.config, data: _ctx.data, isEmpty: isEmpty.value })), () => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          (_ctx.config.type && _unref(DYNAMIC).primitive.includes(_ctx.config.type))\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 0,\n                class: _normalizeClass(_unref(getProp)(_unref(model), `${_ctx.config.type}.base`, ''))\n              }, [\n                _createVNode(CyPrimitive, _mergeProps({\n                  config: _ctx.config,\n                  data: _ctx.data,\n                  value: displayData.value\n                }, _unref($attrs) || {}), null, 16 /* FULL_PROPS */, [\"config\", \"data\", \"value\"])\n              ], 2 /* CLASS */))\n            : (_ctx.config.type === 'string-icon')\n              ? (_openBlock(), _createBlock(_unref(StringIcon), _mergeProps({\n                  key: 1,\n                  config: _ctx.config,\n                  value: _ctx.data\n                }, _unref($attrs) || {}), null, 16 /* FULL_PROPS */, [\"config\", \"value\"]))\n              : _createCommentVNode(\"v-if\", true),\n          (_unref(isEmptyUtil)(_ctx.data?.[_ctx.config.key]) !== 'NA' && _ctx.config.suffix)\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 2,\n                class: _normalizeClass(_ctx.config.suffix.class || '')\n              }, \"Â \" + _toDisplayString(_unref(getProp)(_ctx.config.suffix, \"text\")), 3 /* TEXT, CLASS */))\n            : _createCommentVNode(\"v-if\", true)\n        ])\n      ])\n    ], 2 /* CLASS */),\n    _renderSlot(_ctx.$slots, \"suffix\", _normalizeProps(_guardReactiveProps({ isEmpty: isEmpty.value, value: _ctx.data })))\n  ], 2 /* CLASS */))\n}\n}\n\n})"],"names":["_hoisted_1","_sfc_main","_defineComponent","__props","__emit","StringIcon","defineAsyncComponent","$attrs","useAttrs","props","isEmpty","computed","key","childKey","value","getProp","isEmptyUtil","DEFAULT_EMPTY_MESSAGE","configKey","mapper","displayData","valueKey","valueFunc","default_value","data","_ctx","_cache","_openBlock","_createElementBlock","_normalizeClass","_renderSlot","_normalizeProps","_mergeProps","_createCommentVNode","_createElementVNode","_unref","_guardReactiveProps","DYNAMIC","model","_createVNode","CyPrimitive","_createBlock","_toDisplayString"],"mappings":"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"}