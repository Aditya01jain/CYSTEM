"use strict";const g=require("element-plus/es");require("element-plus/es/components/base/style/css");require("element-plus/es/components/infinite-scroll/style/css");const e=require("vue"),v=require("element-plus"),b=require("./components/select-option/CySelectOption.cjs"),w=require("./CyAvatar.vue_vue_type_script_setup_true_lang-d951f479.cjs"),P=require("./CyShimmer.vue_vue_type_script_setup_true_lang-41e89d03.cjs"),_=require("./components/flex-text/CyFlexText.cjs"),S=require("./utilities/shared.cjs"),h=require("./directives/keystroke/index.cjs"),s=require("./utilities/prototypes.cjs"),k=require("./utilities/bind-attributes.cjs"),C=["aria-busy","infinite-scroll-disabled","infinite-scroll-distance","id"],B=["role"],q=e.defineComponent({name:"CySelectLayout",inheritAttrs:!1,directives:{"infinite-scroll":{...v.ElInfiniteScroll},"cy-keystroke":h.default},__name:"CySelectLayout",props:{config:{default:()=>({optionRole:"menuitem"})},value:{default:null},data:{default:null},componentId:{},tabindex:{default:0},optionStyle:{},identifier:{default:""},paginated:{type:Boolean,default:!1},name:{},busy:{type:Boolean,default:!1},disableOption:{type:[Object,Function,Boolean],default:!1},loaderClass:{},shimmerClass:{},loaderStyle:{},valueIdentifier:{default:""},optionPlacement:{default:"bottom"},subHeadingKey:{default:""},bust:{type:Boolean},scrollerDistance:{default:1},loading:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},optionClass:{default:""},optionProps:{default:()=>({flexAlign:"row",icon:"",iconStyle:()=>({}),iconSize:"1.6"})},optionAttrs:{}},emits:["setSelectedData","setShowFilter","parentEvent","loadMore"],setup(a,{emit:c}){const u=e.useAttrs(),t=a,r=c,p=e.computed(()=>{let o={...e.useAttrs()||{}};return o.role||(o.role="menu"),o}),d=o=>{t.multiple||r("setShowFilter"),r("setSelectedData",o)},y=()=>{!t.busy&&t.paginated&&r("loadMore")},f=o=>{const l=typeof t.disableOption;return l==="function"?t.disableOption(o):(l==="boolean"||S.isNull(t.disableOption))&&t.disableOption||!1};return(o,l)=>{const m=g.ElInfiniteScroll;return e.withDirectives((e.openBlock(),e.createElementBlock("div",e.mergeProps({class:"cyw-select-menu__layout cyw-px-3 cyw-py-1 cyw-m-0 cyw-overlay-scroll cyw-overlay-scroll-y cyw-overlay-scroll--show",name:"wrapper","aria-busy":t.busy,"infinite-scroll-disabled":t.busy||!t.paginated,"infinite-scroll-distance":t.scrollerDistance,id:`${t.componentId}-list`,"cy-data-list":!0},p.value,{onKeydown:l[0]||(l[0]=i=>o.$emit("parentEvent",i))}),[e.renderSlot(o.$slots,"default"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.data,(i,n)=>(e.openBlock(),e.createBlock(b.default,e.mergeProps({optionProps:t.optionProps,id:"list-item-"+n,role:t.config.optionRole,ref_for:!0},{...o.optionAttrs,...e.unref(k.generateTestId)(e.unref(u),"option-"+n)},{key:n,class:[t.optionClass,"cyw-select-option cyw-round-md"],valueIdentifier:t.valueIdentifier,identifier:t.identifier,subHeadingKey:t.subHeadingKey,disabled:f(i),optionPlacement:t.optionPlacement,style:t.optionStyle,onClick:d,option:i,multiple:t.multiple,value:o.value}),{option:e.withCtx(()=>[e.renderSlot(o.$slots,"option",e.mergeProps({ref_for:!0},{option:i,index:n}),()=>[e.createElementVNode("div",{class:e.normalizeClass(["cyw-flex cyw-w-100 cyw-text-ellipsis",o.multiple?"cyw-select-menu-option--multiple":"cyw-w-inherit"])},[e.unref(s.getProp)(o.optionProps,"icon","").length>0||o.optionProps.avatar?(e.openBlock(),e.createBlock(w._sfc_main,{key:0,"aria-hidden":!0,avatarStyle:o.optionProps.iconStyle,size:o.optionProps.iconSize,icon:o.optionProps.icon,shape:o.optionProps.shape,color:o.optionProps.color,avatarClass:o.optionProps.avatarClass,firstName:o.optionProps?.avatar?.(i),class:"cyw-mr-3"},null,8,["avatarStyle","size","icon","shape","color","avatarClass","firstName"])):e.createCommentVNode("v-if",!0),e.createVNode(_.default,{class:e.normalizeClass(["cyw-w-inherit",{"cyw-select-option--with-icon":e.unref(s.getProp)(o.optionProps,"icon","").length>0||o.optionProps.avatar}]),heading:typeof i=="object"?e.unref(s.getProp)(i,t.valueIdentifier):i,subHeading:t.subHeadingKey?e.unref(s.getProp)(i,t.subHeadingKey):t.subHeadingKey,direction:t.optionProps.flexAlign},null,8,["class","heading","subHeading","direction"])],2)])]),_:2},1040,["optionProps","id","role","class","valueIdentifier","identifier","subHeadingKey","disabled","optionPlacement","style","option","multiple","value"]))),128)),t.loading||t.busy?(e.openBlock(),e.createElementBlock("div",{key:0,role:t.config.optionRole,"aria-hidden":!0,class:e.normalizeClass(["cyw-w-100 cyw-px-4",{"cyw-mt-3":t.loading}]),style:e.normalizeStyle(t.loaderStyle)},[e.renderSlot(o.$slots,"loader",{},()=>[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(3,i=>e.createVNode(P._sfc_main,{view:"single",type:"single",class:"cyw-py-3",dimension:"small",key:"shimmer-"+i})),64))])],14,B)):e.createCommentVNode("v-if",!0)],16,C)),[[m,y]])}}});exports._sfc_main=q;
//# sourceMappingURL=CySelectLayout.vue_vue_type_script_setup_true_lang-f2607b64.cjs.map
